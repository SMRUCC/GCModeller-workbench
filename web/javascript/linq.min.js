var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,e,c){d!=Array.prototype&&d!=Object.prototype&&(d[e]=c.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,e,c,b){if(e){c=$jscomp.global;d=d.split(".");for(b=0;b<d.length-1;b++){var a=d[b];a in c||(c[a]={});c=c[a]}d=d[d.length-1];b=c[d];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(c,d,{configurable:!0,writable:!0,value:e})}};$jscomp.underscoreProtoCanBeSet=function(){var d={a:!0},e={};try{return e.__proto__=d,e.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(d,e){d.__proto__=e;if(d.__proto__!==e)throw new TypeError(d+" is not extensible");return d}:null;$jscomp.polyfill("Object.setPrototypeOf",function(d){return d||$jscomp.setPrototypeOf},"es6","es5");$jscomp.findInternal=function(d,e,c){d instanceof String&&(d=String(d));for(var b=d.length,a=0;a<b;a++){var f=d[a];if(e.call(c,f,a,d))return{i:a,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(e,c){return $jscomp.findInternal(this,e,c).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(d){var e=0;return function(){return e<d.length?{done:!1,value:d[e++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var d=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+d++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
$jscomp.iteratorFromArray=function(d,e){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var c=0,b={next:function(){if(c<d.length){var a=c++;return{value:e(a,d[a]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3");
var __extends=this&&this.__extends||function(){var d=function(e,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f])};return d(e,c)};return function(e,c){function b(){this.constructor=e}d(e,c);e.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}(),Activator;
(function(d){d.CreateMetaReader=function(e){return new TypeScript.Data.MetaReader(d.CreateObject(e))};d.CreateInstance=function(e){var c=Object.create({});if(Array.isArray(e))for(var b=0;b<e.length;b++){var a=e[b];var f=a.value;Object.defineProperty(c,a.name,{get:f.get,set:f.set})}else for(b in e)f=e[b],Object.defineProperty(c,b,{get:f.get,set:f.set});return c};d.EmptyObject=function(e,c){var b={};"function"==typeof c?Array.isArray(e)?e.forEach(function(a){return b[a]=c()}):e.ForEach(function(a){return b[a]=
c()}):Array.isArray(e)?e.forEach(function(a){return b[a]=c}):e.ForEach(function(a){return b[a]=c});return b};d.CreateObject=function(e){var c={},b=TypeScript.Reflection.$typeof(e);if(b.isArray&&"MapTuple"==b.class)e.forEach(function(a){return c[a.key]=a.value});else if(b.isArray&&"NamedValue"==b.class)e.forEach(function(a){return c[a.name]=a.value});else if("IEnumerator"==b.class)if(b=e.ElementType,"MapTuple"==b.class)e.ForEach(function(a){c[a.key]=a.value});else if("NamedValue"==b.class)e.ForEach(function(a){c[a.name]=
a.value});else throw console.error(b),"Unsupport data type: "+b.class;else throw"Unsupport data type: "+JSON.stringify(b);return c}})(Activator||(Activator={}));var data;
(function(d){(function(e){var c=function(){function b(){}b.prototype.toString=function(){return JSON.stringify(this)};return b}();e.match=c;e.placeholder=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g);e.parseFormat=function(b,a){for(var f,g,c=f=0,d,l=[],m=[];d=e.placeholder.exec(b);)g=e.placeholder.lastIndex-d[0].length,m[m.length]=b.substring(f,g),f=e.placeholder.lastIndex,l[l.length]={match:d[0],left:d[3]?!0:!1,sign:d[4]||"",pad:d[5]||" ",min:d[6]||0,precision:d[8],code:d[9]||
"%",negative:0>parseInt(a[c])?!0:!1,argument:String(a[c])},d[9]&&(c+=1);m[m.length]=b.substring(f);return{matches:l,convCount:c,strings:m}};e.doFormat=function(b){for(var a=[],f=1;f<arguments.length;f++)a[f-1]=arguments[f];if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;f=e.parseFormat(b,a);var g=f.convCount;if(0==f.matches.length)return b;TypeScript.logging.log("string format parse result:",TypeScript.ConsoleColors.Magenta);
TypeScript.logging.log(f);if(a.length<g)throw"Mismatch format argument numbers ("+a.length+" !== "+g+")!";return e.doSubstitute(f.matches,f.strings)};e.doSubstitute=function(b,a){var f,g="";for(f=0;f<b.length;f++){if("%"==b[f].code)var c="%";else"b"==b[f].code?(b[f].argument=String(Math.abs(parseInt(b[f].argument)).toString(2)),c=e.convert(b[f],!0)):"c"==b[f].code?(c=Math.abs(parseInt(b[f].argument)),b[f].argument=String(String.fromCharCode(parseInt(String(c)))),c=e.convert(b[f],!0)):"d"==b[f].code?
(b[f].argument=String(Math.abs(parseInt(b[f].argument))),c=e.convert(b[f])):"f"==b[f].code?(c=b[f].precision?parseFloat(b[f].precision):6,b[f].argument=String(Math.abs(parseFloat(b[f].argument)).toFixed(c)),c=e.convert(b[f])):"o"==b[f].code?(b[f].argument=String(Math.abs(parseInt(b[f].argument)).toString(8)),c=e.convert(b[f])):"s"==b[f].code?(c=b[f].precision?parseFloat(b[f].precision):b[f].argument.length,b[f].argument=b[f].argument.substring(0,c),c=e.convert(b[f],!0)):"x"==b[f].code?(b[f].argument=
String(Math.abs(parseInt(b[f].argument)).toString(16)),c=e.convert(b[f])):"X"==b[f].code?(b[f].argument=String(Math.abs(parseInt(b[f].argument)).toString(16)),c=e.convert(b[f]).toUpperCase()):c=b[f].match;g+=a[f];g+=c}return g+a[f]};e.convert=function(b,a){void 0===a&&(a=!1);b.sign=a?"":b.negative?"-":b.sign;var f=parseFloat(b.min)-b.argument.length+1-b.sign.length;f=Array(0>f?0:f).join(b.pad);return b.left?"0"==b.pad||a?b.sign+b.argument+f.replace(/0/g," "):b.sign+b.argument+f:"0"==b.pad||a?b.sign+
f+b.argument:f+b.sign+b.argument}})(d.sprintf||(d.sprintf={}))})(data||(data={}));
var LINQIterator=function(){function d(e){this.i=0;this.sequence=e}d.prototype[Symbol.iterator]=function(){return this};Object.defineProperty(d.prototype,"Count",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});d.prototype.reset=function(){this.i=0;return this};d.prototype.next=function(){return this.i<this.sequence.length?{value:this.sequence[this.i++],done:!1}:{value:void 0,done:!0}};return d}(),Enumerable;
(function(d){d.Range=function(e,c,b){void 0===b&&(b=1);return(new data.NumericRange(e,c)).PopulateNumbers(b)};d.Min=function(){for(var e=[],c=0;c<arguments.length;c++)e[c]=arguments[c];c=99999999999;for(var b=0;b<e.length;b++){var a=e[b];a<c&&(c=a)}return c};d.Select=function(e,c){var b=[];e.forEach(function(a,f){b.push(c(a,f))});return new IEnumerator(b)};d.OrderBy=function(e,c){e=e.slice();e.sort(function(b,a){return c(b)-c(a)});return new IEnumerator(e)};d.OrderByDescending=function(e,c){return d.OrderBy(e,
function(b){return-c(b)})};d.Take=function(e,c){var b=e.length;if(b<=c)var a=e;else{a=[];for(var f=0;f<c&&!(f>=b);f++)a.push(e[f])}return new IEnumerator(a)};d.Skip=function(e,c){var b=[];if(c>=e.length)return new IEnumerator([]);for(;c<e.length;c++)b.push(e[c]);return new IEnumerator(b)};d.TakeWhile=function(e,c){for(var b=[],a=0;a<e.length;a++){var f=e[a];if(c(f))b.push(f);else break}return new IEnumerator(b)};d.Where=function(e,c){for(var b=[],a=0;a<e.length;a++){var f=e[a];1==c(f)&&b.push(f)}return new IEnumerator(b)};
d.SkipWhile=function(e,c){for(var b=0;b<e.length;b++)if(1!=c(e[b]))return d.Skip(e,b);return new IEnumerator([])};d.All=function(e,c){for(var b=0;b<e.length;b++)if(!c(e[b]))return!1;return!0};d.Any=function(e,c){for(var b=0;b<e.length;b++)if(1==c(e[b]))return!0;return!1};d.GroupBy=function(e,c,b){b=new algorithm.BTree.binaryTree(b);for(var a,f,g=0;g<e.length;g++){var d=e[g];a=c(d);(f=b.find(a))?f.push(d):b.add(a,[d])}return b.AsEnumerable().Select(function(a){return new Group(a.key,a.value)})};d.AllKeys=
function(e){return $from(e).Select(function(c){return Object.keys(c)}).Unlist().Distinct().ToArray()}})(Enumerable||(Enumerable={}));
var IEnumerator=function(d){function e(c){return d.call(this,e.getArray(c))||this}__extends(e,d);Object.defineProperty(e.prototype,"ElementType",{get:function(){return $ts.typeof(this.First)},enumerable:!0,configurable:!0});e.prototype.ElementAt=function(c){void 0===c&&(c=null);if(!c)c=0;else if("string"==typeof c)throw"Item index='"+c+"' must be an integer!";return this.sequence[c]};e.prototype.ctype=function(){return new e(this.sequence.slice())};e.getArray=function(c){return c?Array.isArray(c)?
c.slice():c.sequence.slice():[]};e.prototype.indexOf=function(c){return this.sequence.indexOf(c)};Object.defineProperty(e.prototype,"First",{get:function(){return this.sequence[0]},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"Last",{get:function(){return this.sequence[this.Count-1]},enumerable:!0,configurable:!0});e.prototype.FirstOrDefault=function(c){void 0===c&&(c=null);return 0==this.Count?c:this.sequence[0]};e.prototype.Union=function(c,b,a,f,g){void 0===g&&(g=null);Array.isArray(c)||
(c=c.ToArray());return(new Enumerable.JoinHelper(this.sequence,c)).Union(b,a,f,g)};e.prototype.Join=function(c,b,a,f,g){void 0===g&&(g=null);Array.isArray(c)||(c=c.ToArray());return(new Enumerable.JoinHelper(this.sequence,c)).LeftJoin(b,a,f,g)};e.prototype.Select=function(c){return Enumerable.Select(this.sequence,c)};e.prototype.GroupBy=function(c,b){if(0==this.Count)return $from([]);if(isNullOrUndefined(b))switch(typeof c(this.First)){case "string":b=Strings.CompareTo;break;case "number":b=function(a,
b){return a-b};break;case "boolean":b=function(a,b){return a==b?0:1==a?1:-1};break;default:if(0==this.Count)return $from([]);throw"No element comparer was specific!";}return Enumerable.GroupBy(this.sequence,c,b)};e.prototype.Where=function(c){return Enumerable.Where(this.sequence,c)};e.prototype.Which=function(c,b){void 0===b&&(b=!0);var a;b||(a=[]);for(var f=0;f<this.sequence.length;f++)if(c(this.sequence[f])){if(b)return f;a.push(f)}return new e(a)};e.prototype.Min=function(c){void 0===c&&(c=function(b){return Strings.as_numeric(b)});
return Enumerable.OrderBy(this.sequence,c).First};e.prototype.Max=function(c){void 0===c&&(c=function(b){return Strings.as_numeric(b)});return Enumerable.OrderByDescending(this.sequence,c).First};e.prototype.Average=function(c){void 0===c&&(c=null);return 0==this.Count?0:this.Sum(c)/this.sequence.length};e.prototype.Sum=function(c){void 0===c&&(c=null);var b=0;c||(c=function(a){return Number(a)});for(var a=0,f=this.sequence;a<f.length;a++)b+=c(f[a]);return b};e.prototype.OrderBy=function(c){return Enumerable.OrderBy(this.sequence,
c)};e.prototype.OrderByDescending=function(c){return Enumerable.OrderByDescending(this.sequence,c)};e.prototype.Split=function(c){for(var b=[],a=[],f=0,g=this.sequence;f<g.length;f++){var d=g[f];a.length<c?a.push(d):(b.push(a),a=[])}0<a.length&&b.push(a);return new e(b)};e.prototype.subset=function(c){if("boolean"==typeof c[0]){var b=[];for(var a=0;a<c.length;a++)c[a]&&b.push(a)}else b=c;c=[];for(var f=0;f<b.length;f++)a=b[f],c.push(this.sequence[a]);return new e(c)};e.prototype.Take=function(c){return Enumerable.Take(this.sequence,
c)};e.prototype.Skip=function(c){return Enumerable.Skip(this.sequence,c)};e.prototype.Reverse=function(){var c=this.ToArray().reverse();return new e(c)};e.prototype.TakeWhile=function(c){return Enumerable.TakeWhile(this.sequence,c)};e.prototype.SkipWhile=function(c){return Enumerable.SkipWhile(this.sequence,c)};e.prototype.All=function(c){return Enumerable.All(this.sequence,c)};e.prototype.Any=function(c){void 0===c&&(c=null);return c?Enumerable.Any(this.sequence,c):this.sequence&&0!=this.sequence.length?
!0:!1};e.prototype.Distinct=function(c){void 0===c&&(c=function(b){return isNullOrUndefined(b)?"":b.toString()});return this.GroupBy(c,Strings.CompareTo).Select(function(b){return b.First})};e.prototype.ChunkWith=function(c,b){void 0===b&&(b=!1);for(var a=new List,f=[],g=0,e=this.sequence;g<e.length;g++){var d=e[g];c(d)?(a.Add(f),f=b?[d]:[]):f.push(d)}0<f.length&&a.Add(f);return a};e.prototype.ForEach=function(c){this.sequence.forEach(function(b,a,f){c(b,a)})};e.prototype.JoinBy=function(c,b){void 0===
b&&(b=function(a){return"string"===typeof a?a:a.toString()});return this.Select(function(a){return b(a)}).ToArray().join(c)};e.prototype.Unlist=function(c){void 0===c&&(c=function(a){return a});for(var b=[],a=0,f=this.sequence;a<f.length;a++)for(var g=0,d=c(f[a]);g<d.length;g++)b.push(d[g]);return new e(b)};e.prototype.ToArray=function(c){void 0===c&&(c=!0);return c?this.sequence.slice():this.sequence};e.prototype.ToList=function(){return new List(this.sequence)};e.prototype.ToDictionary=function(c,
b){void 0===b&&(b=function(a){return a});for(var a={},f,g,e=0,d=this.sequence;e<d.length;e++)g=d[e],f=c(g),g=b(g),a[f]=g;return new Dictionary(a)};e.prototype.ToPointer=function(){return new Pointer(this)};e.prototype.SlideWindows=function(c,b){void 0===b&&(b=1);return SlideWindow.Split(this,c,b)};return e}(LINQIterator),DOMEnumerator=function(d){function e(c){return d.call(this,e.ensureElements(c))||this}__extends(e,d);Object.defineProperty(e.prototype,"tagName",{get:function(){return this.First.tagName},
enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"type",{get:function(){return"input"==this.tagName.toLowerCase()?this.First.type:this.tagName},enumerable:!0,configurable:!0});e.ensureElements=function(c){var b=$ts.typeof(c);if("NodeList"==b.class){var a=[];c.forEach(function(b){return a.push(b)})}else if("HTMLCollection"==b.class)for(a=[],b=0;b<c.length;b++)a.push(c.item(b));else a=Framework.Extensions.EnsureArray(c);c=0;for(b=a;c<b.length;c++)TypeExtensions.Extends(b[c]);return a};
e.prototype.val=function(c){void 0===c&&(c=null);if(isNullOrUndefined(c))return this.Select(function(b){return e.getVal(b)});"string"==typeof c||"number"==typeof c?this.ForEach(function(b){return e.setVal(b,c)}):Array.isArray(c)?this.ForEach(function(b,a){return e.setVal(b,c[a])}):this.ForEach(function(b,a){return e.setVal(b,c.ElementAt(a))})};e.setVal=function(c,b){c instanceof HTMLInputElement?c.value=b:c.textContent=b};e.getVal=function(c){return c instanceof HTMLInputElement?c.value:c.textContent};
e.prototype.attr=function(c,b){void 0===b&&(b=null);if(b){if("function"==typeof b)return this.Select(function(a){var f=b(a);a.setAttribute(c,f);return f});var a=Framework.Extensions.EnsureArray(b,this.Count);return this.Select(function(b,g){g=a[g];b.setAttribute(c,g);return g})}return this.Select(function(a){return a.getAttribute(c)})};e.prototype.style=function(c){var b=DOM.CSS.parseStylesheet(c);this.ForEach(function(a){return DOM.CSS.Setter.setStyle(a,b)});return this};e.prototype.addClass=function(c){this.ForEach(function(b){b.classList.contains(c)||
b.classList.add(c)});return this};e.prototype.addEvent=function(c,b){this.ForEach(function(a){DOM.Events.addEvent(a,c,function(f){b(a,f)})})};e.prototype.onChange=function(c){this.addEvent("onchange",c)};e.prototype.onClick=function(c){this.ForEach(function(b){b.onclick=function(a){c(this,a);return!1}})};e.prototype.removeClass=function(c){this.ForEach(function(b){b.classList.contains(c)&&b.classList.remove(c)});return this};e.prototype.hide=function(){this.ForEach(function(c){return c.style.display=
"none"});return this};e.prototype.show=function(){this.ForEach(function(c){return c.style.display="block"});return this};e.prototype.delete=function(){this.ForEach(function(c){return c.parentNode.removeChild(c)})};return e}(IEnumerator),Internal;
(function(d){(function(e){(function(c){c.getElementByIdUnderContext=function(b,a){return TypeExtensions.checkENV()==ENV.browser&&a instanceof Window?a.document.getElementById(b):a.getElementById(b)};c.selectElementsUnderContext=function(b,a){return TypeExtensions.checkENV()==ENV.browser&&a instanceof Window?a.document.querySelector(b.expression):a.querySelector(b.expression)}})(e.Selector||(e.Selector={}))})(d.Handlers||(d.Handlers={}))})(Internal||(Internal={}));
(function(d){(function(e){function c(a,b){return a?window.hasOwnProperty.call(a,b):!1}var b={onclick:"onclick",onmouseover:"onmouseover",onchange:"onchange",onblur:"onblur"},a=Object.keys(b);e.hasKey=c;e.makesureElementIdSelector=function(a){if(a)return"#"==a[0]?a:"#"+a;throw"The given node id value is nothing!";};var f=function(){function f(){}f.ensureArguments=function(a){if(isNullOrUndefined(a))return d.Arguments.Default();isNullOrUndefined(a.nativeModel)&&(a.nativeModel=!0);return a};f.select=
function(a,b){void 0===b&&(b=window);a=a.replace(":","\\:");if(TypeExtensions.checkENV()==ENV.browser&&b instanceof Window)b=b.document.querySelectorAll(a);else if(b instanceof HTMLElement)b=b.querySelectorAll(a);else throw"Unsupported context type: "+TypeScript.Reflection.getClass(b);return new DOMEnumerator(b)};f.prototype.doEval=function(a,b,g){var c=DOM.Query.parseQuery(a);b=f.ensureArguments(g);var d=b.context||window;if(c.type==DOM.QueryTypes.id)return g=e.Selector.getElementByIdUnderContext(c.expression,
d),isNullOrUndefined(g)?(TypeScript.logging.outputWarning&&console.warn("Unable to found a node which its ID='"+a+"'!"),null):b.nativeModel?TypeExtensions.Extends(g):new HTMLTsElement(g);if(c.type==DOM.QueryTypes.NoQuery)return f.createNew(a,b,d);if(c.singleNode){if(c.type==DOM.QueryTypes.QueryMeta)return DOM.InputValueGetter.metaValue(c.expression,(g||{})["default"],d!=window);TypeScript.logging.outputEverything&&console.warn("Apply querySelector for expression: '"+c.expression+"', no typescript extension was made!");
a=e.Selector.selectElementsUnderContext(c,d);return isNullOrUndefined(a)?null:b.nativeModel?TypeExtensions.Extends(a):new HTMLTsElement(a)}return c.type==DOM.QueryTypes.class?(a=document.getElementsByClassName(c.expression),new DOMEnumerator(a)):f.select(c.expression,d)};f.createNew=function(b,g,c){void 0===c&&(c=window);b=DOM.ParseNodeDeclare(b);var e=c.document.createElement(b.tag);b.attrs.forEach(function(b){0>a.indexOf(b.name)&&e.setAttribute(b.name,b.value)});g&&f.setAttributes(e,g);return g.nativeModel?
TypeExtensions.Extends(e):new HTMLTsElement(e)};f.setAttributes=function(f,g){var c=function(b){if(!(-1<a.indexOf(b)))if("class"==b){var c=g[b];Array.isArray(c)?c.forEach(function(a){return f.classList.add(a)}):f.setAttribute(b,c)}else if("style"==b)if(c=g[b],"string"==typeof c)f.setAttribute(b,c);else for(var e in c)f.style[e]=c[e];else if("visible"==b)f.style.display=g[b]?"block":"none";else{c=g[b];if("src"==b||"href"==b)c=d.urlSolver(c);f.setAttribute(b,c)}};d.Arguments.nameFilter(g).forEach(function(a){return c(a)});
this.hookEvt(f,b.onclick,g);this.hookEvt(f,b.onmouseover,g);this.hookEvt(f,b.onchange,g)};f.hookEvt=function(a,f,g){if(c(g,f)){var e=g[f];if("string"==typeof e)a.setAttribute(f,e);else switch(g=function(b,f){return e(b,f,a)},f){case b.onclick:a.onclick=g;break;case b.onmouseover:a.onmouseover=g;break;case b.onchange:a.onchange=g;break;case b.onblur:a.onblur=g;break;default:TypeScript.logging.log(f,TypeScript.ConsoleColors.Yellow)}}};return f}();e.stringEval=f})(d.Handlers||(d.Handlers={}))})(Internal||
(Internal={}));(function(d){(function(e){e.Shared={string:function(){return new e.stringEval},array:function(){return new c},NodeListOf:function(){return new b},HTMLCollection:function(){return new b}};var c=function(){function a(){}a.prototype.doEval=function(a,b,c){return $from(a)};return a}();e.arrayEval=c;var b=function(){function a(){}a.prototype.doEval=function(a,b,c){return new DOMEnumerator(a)};return a}();e.DOMCollection=b})(d.Handlers||(d.Handlers={}))})(Internal||(Internal={}));var DataExtensions;
(function(d){function e(b){var a="";b=new Uint8Array(b);for(var f=b.byteLength,g=0;g<f;g++)a+=String.fromCharCode(b[g]);return window.btoa(a)}function c(b){b=window.atob(b);for(var a=new ArrayBuffer(b.length),f=new Uint8Array(a),g=0;g<b.length;g++)f[g]=b.charCodeAt(g);return a}d.merge=function(b){for(var a=[],f=1;f<arguments.length;f++)a[f-1]=arguments[f];for(var g,c=0;c<a.length;c++)for(g in f=a[c],f)Object.prototype.hasOwnProperty.call(f,g)&&(b[g]=f[g]);return b};d.arrayBufferToBase64=e;d.toUri=
function(b){"string"!==typeof b.data&&(b.data=e(b.data));return"data:"+b.mime_type+";base64,"+b.data};d.uriToBlob=function(b){if("string"==typeof b){var a=b.split(",")[1];var f=b.split(",")[0].split(":")[1].split(";")[0];b=c(a)}else f=b.mime_type,b="string"==typeof b.data?c(b.data):b.data;return new Blob([b],{type:f})};d.base64ToBlob=c;d.Dim=function(b,a){void 0===a&&(a=null);for(var f=[],g=0;g<b;g++)f.push(a);return f}})(DataExtensions||(DataExtensions={}));
var MapTuple=function(){function d(e,c){void 0===e&&(e=null);void 0===c&&(c=null);this.key=e;this.value=c;this.key=e;this.value=c}d.prototype.valueOf=function(){return this.value};d.prototype.ToArray=function(){return[this.key,this.value]};d.prototype.toString=function(){return"["+this.key.toString()+", "+this.value.toString()+"]"};return d}(),NamedValue=function(){function d(e,c){void 0===e&&(e=null);void 0===c&&(c=null);this.name=e;this.value=c}Object.defineProperty(d.prototype,"TypeOfValue",{get:function(){return $ts.typeof(this.value)},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"IsEmpty",{get:function(){return Strings.Empty(this.name)&&(!this.value||void 0==this.value)},enumerable:!0,configurable:!0});d.prototype.valueOf=function(){return this.value};d.prototype.ToArray=function(){return[this.name,this.value]};d.prototype.toString=function(){return this.name};return d}(),Strings;
(function(d){function e(a){return null==a||void 0==a?null:"number"===typeof a?function(a){return a}:"boolean"===typeof a?function(a){return 1==a?1:-1}:"undefined"==typeof a?function(a){return 0}:"string"==typeof a?function(a){return d.Val(a)}:function(a){return 0}}function c(a,b){if(!a)return!1;b=a.match("string"==typeof b?new RegExp(b):b);return isNullOrUndefined(b)?!1:b[0]==a}function b(a){return a&&void 0!=a?a.length:0}d.x0=48;d.x9=57;d.asterisk=42;d.cr=99;d.lf=13;d.a=97;d.z=122;d.A=65;d.Z=90;
d.numericPattern=/[-]?\d+(\.\d+)?/g;d.integerPattern=/[-]?[0-9]+/g;d.logical={T:!0,F:!1,"true":!0,"false":!1,TRUE:!0,FALSE:!1,yes:!0,no:!1,right:!0,wrong:!1};d.PadLeft=function(a,b,g){void 0===g&&(g=" ");if(d.Empty(a))return DataExtensions.Dim(b,g).join("");b-=a.length;return 0>b?a:DataExtensions.Dim(b,g).join("")+a};d.isNumericPattern=function(a){return c(a,d.numericPattern)};d.isIntegerPattern=function(a){return c(a,d.integerPattern)};d.as_numeric=function(a){return e(a)(a)};d.AsNumeric=e;d.Lanudry=
function(a){var b=Math.floor(Math.log(a)/Math.log(1E3));return d.sprintf("%.2f "+["B","KB","MB","GB","TB"][b],a/Math.pow(1E3,Math.floor(b)))};d.escapeXml=function(a){return a.replace(/[<>&'"]/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case "'":return"&apos;";case '"':return"&quot;"}})};d.parseInt=function(a){if(d.Empty(a,!0))return 0;var b=[];for(var g=0;g<a.length;g++){var c=a.charAt(g);var e=c.charCodeAt(0);if(e>=d.x0&&e<=d.x9)b.push(c);else break}return 0==
b.length?0:Number(b.join(""))};d.New=function(a,b){if(0==b)return"";if(1==b)return a;for(var f="",c=1;c<b;++c)f+=a;return f};d.round=function(a,b){void 0===b&&(b=3);var f="number"==typeof a?a:parseFloat(a);b=Math.pow(10,b);return isNaN(f)?(TypeScript.logging.outputWarning&&console.warn("Invalid number value: '"+a+"'"),!1):Math.round(f*b)/b};d.isNumber=function(a){a=a.charCodeAt(0);return a>=d.x0&&a<=d.x9};d.isAlphabet=function(a){a=a.charCodeAt(0);return a>=d.a&&a<=d.z||a>=d.A&&a<=d.Z};d.Val=function(a){return null==
a||""==a||void 0==a||"undefined"==a?0:"NA"==a||"NaN"==a?Number.NaN:"Inf"==a?Number.POSITIVE_INFINITY:"-Inf"==a?Number.NEGATIVE_INFINITY:parseFloat(a)};d.lineTokens=function(a){return a?a.trim().split("\n"):[]};d.GetTagValue=function(a,f){void 0===f&&(f=" ");if(a){var g=f;f=a.indexOf(g);var c=b(g);-1<f?(g=a.substr(0,f),a=a.substr(f+c),a=new NamedValue(g,a)):a=new NamedValue(a,"");return a}return new NamedValue};d.PeekLines=function(a,b){for(var f=0,c=[],e=0;e<b;e++){var d=a.indexOf("\n",f);if(-1<d)c.push(a.substr(f,
d-f)),f=d;else break}return c};d.LCase=function(a){return isNullOrUndefined(a)?"":a.toLowerCase()};d.UCase=function(a){return isNullOrUndefined(a)?"":a.toUpperCase()};d.getAllMatches=function(a,b){var f,c=[];"string"==typeof b&&(b=new RegExp(b));if(b.global)for(;f=b.exec(a);)c.push(f);else(f=b.exec(a))&&c.push(f);return c};d.Trim=function(a,b){void 0===b&&(b=null);if(d.Empty(a,!1))return"";if(isNullOrUndefined(b))return a.trim();"string"==typeof b&&(b=$from(d.ToCharArray(b)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));
return function(b){return $from(d.ToCharArray(a)).SkipWhile(function(a){return-1<b.indexOf(a.charCodeAt(0))}).Reverse().SkipWhile(function(a){return-1<b.indexOf(a.charCodeAt(0))}).Reverse().JoinBy("")}(b)};d.LTrim=function(a,b){void 0===b&&(b=" ");if(d.Empty(a,!1))return"";"string"==typeof b&&(b=$from(d.ToCharArray(b)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));return function(b){return $from(d.ToCharArray(a)).SkipWhile(function(a){return-1<b.indexOf(a.charCodeAt(0))}).JoinBy("")}(b)};
d.RTrim=function(a,b){void 0===b&&(b=" ");if(d.Empty(a,!1))return"";"string"==typeof b&&(b=$from(d.ToCharArray(b)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));for(var f=d.ToCharArray(a),c=0,e=f.length-1;0<e;e--)if(-1==b.indexOf(f[e].charCodeAt(0))){c=e;break}return 0==c?"":a.substr(0,c+1)};d.Empty=function(a,b){void 0===b&&(b=!1);return a?void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!b||"undefined"!=a&&"null"!=a&&"NULL"!=a?!1:!0:!0};d.Blank=function(a,b){void 0===b&&(b=!1);return!a||
c(a,/\s+/g)?!0:void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!b||"\\s"!=a&&"\\t"!=a?!1:!0};d.IsPattern=c;d.Unique=function(a){var b={};return a.filter(function(a){return b.hasOwnProperty(a)?!1:b[a]=!0})};d.Count=function(a,b){for(var f=0,c=0;c<a.length;c++)a[c]==b&&(f+=1);return f};d.ToCharArray=function(a,b){void 0===b&&(b=!1);var f=[],c=a.length;if(b)for(b=0;b<c;++b)f.push(a.charCodeAt(b));else for(b=0;b<c;++b)f.push(a.charAt(b));return f};d.Len=b;d.CompareTo=function(a,b){for(var f=d.Len(a),
c=d.Len(b),e=Math.min(f,c),l=0;l<e;l++){var m=a.charCodeAt(l),p=b.charCodeAt(l);if(m>p)return 1;if(m<p)return-1}return f>c?1:f<c?-1:0};d.sprintf=data.sprintf.doFormat;d.WrappingLines=function(a,b,g){void 0===b&&(b=200);void 0===g&&(g=!1);var f="";a=d.lineTokens(a);for(var c,e=0;e<a.length;e++){var m=g?d.Trim(a[e]):a[e];if(m.length<b)f=f+m+"\n";else for(c=0;;)if(f=f+m.substr(c,b)+"\n",c+=b,c+b>m.length){f=f+m.substr(c)+"\n";break}}return f}})(Strings||(Strings={}));var TypeScript;
(function(d){(function(e){var c=function(){function b(){}Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.class},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isArray",{get:function(){return"array"==this.typeOf},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isEnumerator",{get:function(){return"object"==this.typeOf&&("IEnumerator"==this.class||"DOMEnumerator"==this.class||e.Internal.isEnumeratorSignature(this))},enumerable:!0,configurable:!0});
b.prototype.isArrayOf=function(a){return this.isArray&&this.class==a};b.prototype.toString=function(){return"object"==this.typeOf?"<"+this.typeOf+"> "+this.class:this.typeOf};return b}();e.TypeInfo=c})(d.Reflection||(d.Reflection={}))})(TypeScript||(TypeScript={}));var MD5;
(function(d){d.safe_add=function(e,c){var b=(e&65535)+(c&65535);return(e>>16)+(c>>16)+(b>>16)<<16|b&65535};d.bit_rol=function(e,c){return e<<c|e>>>32-c};d.md5_cmn=function(e,c,b,a,f,g){return d.safe_add(d.bit_rol(d.safe_add(d.safe_add(c,e),d.safe_add(a,g)),f),b)};d.md5_ff=function(e,c,b,a,f,g,h){return d.md5_cmn(c&b|~c&a,e,c,f,g,h)};d.md5_gg=function(e,c,b,a,f,g,h){return d.md5_cmn(c&a|b&~a,e,c,f,g,h)};d.md5_hh=function(e,c,b,a,f,g,h){return d.md5_cmn(c^b^a,e,c,f,g,h)};d.md5_ii=function(e,c,b,a,f,
g,h){return d.md5_cmn(b^(c|~a),e,c,f,g,h)};d.binl_md5=function(e,c){var b=1732584193,a=-271733879,f=-1732584194,g=271733878;e[c>>5]|=128<<c%32;e[(c+64>>>9<<4)+14]=c;for(var h=0;h<e.length;h+=16){c=b;var k=a;var l=f;var m=g;b=d.md5_ff(b,a,f,g,e[h],7,-680876936);g=d.md5_ff(g,b,a,f,e[h+1],12,-389564586);f=d.md5_ff(f,g,b,a,e[h+2],17,606105819);a=d.md5_ff(a,f,g,b,e[h+3],22,-1044525330);b=d.md5_ff(b,a,f,g,e[h+4],7,-176418897);g=d.md5_ff(g,b,a,f,e[h+5],12,1200080426);f=d.md5_ff(f,g,b,a,e[h+6],17,-1473231341);
a=d.md5_ff(a,f,g,b,e[h+7],22,-45705983);b=d.md5_ff(b,a,f,g,e[h+8],7,1770035416);g=d.md5_ff(g,b,a,f,e[h+9],12,-1958414417);f=d.md5_ff(f,g,b,a,e[h+10],17,-42063);a=d.md5_ff(a,f,g,b,e[h+11],22,-1990404162);b=d.md5_ff(b,a,f,g,e[h+12],7,1804603682);g=d.md5_ff(g,b,a,f,e[h+13],12,-40341101);f=d.md5_ff(f,g,b,a,e[h+14],17,-1502002290);a=d.md5_ff(a,f,g,b,e[h+15],22,1236535329);b=d.md5_gg(b,a,f,g,e[h+1],5,-165796510);g=d.md5_gg(g,b,a,f,e[h+6],9,-1069501632);f=d.md5_gg(f,g,b,a,e[h+11],14,643717713);a=d.md5_gg(a,
f,g,b,e[h],20,-373897302);b=d.md5_gg(b,a,f,g,e[h+5],5,-701558691);g=d.md5_gg(g,b,a,f,e[h+10],9,38016083);f=d.md5_gg(f,g,b,a,e[h+15],14,-660478335);a=d.md5_gg(a,f,g,b,e[h+4],20,-405537848);b=d.md5_gg(b,a,f,g,e[h+9],5,568446438);g=d.md5_gg(g,b,a,f,e[h+14],9,-1019803690);f=d.md5_gg(f,g,b,a,e[h+3],14,-187363961);a=d.md5_gg(a,f,g,b,e[h+8],20,1163531501);b=d.md5_gg(b,a,f,g,e[h+13],5,-1444681467);g=d.md5_gg(g,b,a,f,e[h+2],9,-51403784);f=d.md5_gg(f,g,b,a,e[h+7],14,1735328473);a=d.md5_gg(a,f,g,b,e[h+12],20,
-1926607734);b=d.md5_hh(b,a,f,g,e[h+5],4,-378558);g=d.md5_hh(g,b,a,f,e[h+8],11,-2022574463);f=d.md5_hh(f,g,b,a,e[h+11],16,1839030562);a=d.md5_hh(a,f,g,b,e[h+14],23,-35309556);b=d.md5_hh(b,a,f,g,e[h+1],4,-1530992060);g=d.md5_hh(g,b,a,f,e[h+4],11,1272893353);f=d.md5_hh(f,g,b,a,e[h+7],16,-155497632);a=d.md5_hh(a,f,g,b,e[h+10],23,-1094730640);b=d.md5_hh(b,a,f,g,e[h+13],4,681279174);g=d.md5_hh(g,b,a,f,e[h],11,-358537222);f=d.md5_hh(f,g,b,a,e[h+3],16,-722521979);a=d.md5_hh(a,f,g,b,e[h+6],23,76029189);b=
d.md5_hh(b,a,f,g,e[h+9],4,-640364487);g=d.md5_hh(g,b,a,f,e[h+12],11,-421815835);f=d.md5_hh(f,g,b,a,e[h+15],16,530742520);a=d.md5_hh(a,f,g,b,e[h+2],23,-995338651);b=d.md5_ii(b,a,f,g,e[h],6,-198630844);g=d.md5_ii(g,b,a,f,e[h+7],10,1126891415);f=d.md5_ii(f,g,b,a,e[h+14],15,-1416354905);a=d.md5_ii(a,f,g,b,e[h+5],21,-57434055);b=d.md5_ii(b,a,f,g,e[h+12],6,1700485571);g=d.md5_ii(g,b,a,f,e[h+3],10,-1894986606);f=d.md5_ii(f,g,b,a,e[h+10],15,-1051523);a=d.md5_ii(a,f,g,b,e[h+1],21,-2054922799);b=d.md5_ii(b,
a,f,g,e[h+8],6,1873313359);g=d.md5_ii(g,b,a,f,e[h+15],10,-30611744);f=d.md5_ii(f,g,b,a,e[h+6],15,-1560198380);a=d.md5_ii(a,f,g,b,e[h+13],21,1309151649);b=d.md5_ii(b,a,f,g,e[h+4],6,-145523070);g=d.md5_ii(g,b,a,f,e[h+11],10,-1120210379);f=d.md5_ii(f,g,b,a,e[h+2],15,718787259);a=d.md5_ii(a,f,g,b,e[h+9],21,-343485551);b=d.safe_add(b,c);a=d.safe_add(a,k);f=d.safe_add(f,l);g=d.safe_add(g,m)}return[b,a,f,g]};d.binl2rstr=function(e){for(var c="",b=0;b<32*e.length;b+=8)c+=String.fromCharCode(e[b>>5]>>>b%32&
255);return c};d.rstr2binl=function(e){var c=[];c[(e.length>>2)-1]=void 0;for(var b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*e.length;b+=8)c[b>>5]|=(e.charCodeAt(b/8)&255)<<b%32;return c};d.rstr_md5=function(e){return d.binl2rstr(d.binl_md5(d.rstr2binl(e),8*e.length))};d.rstr_hmac_md5=function(e,c){var b=d.rstr2binl(e),a=[],f=[];a[15]=f[15]=void 0;16<b.length&&(b=d.binl_md5(b,8*e.length));for(e=0;16>e;e+=1)a[e]=b[e]^909522486,f[e]=b[e]^1549556828;b=a.concat(d.rstr2binl(c));b=d.binl_md5(b,512+8*c.length);
b=f.concat(b);b=d.binl_md5(b,640);return d.binl2rstr(b)};d.rstr2hex=function(e){for(var c="",b,a=0;a<e.length;a+=1)b=e.charCodeAt(a),c+="0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(b&15);return c};d.str2rstr_utf8=function(e){return unescape(encodeURIComponent(e))};d.raw_md5=function(e){return d.rstr_md5(d.str2rstr_utf8(e))};d.hex_md5=function(e){return d.rstr2hex(d.raw_md5(e))};d.raw_hmac_md5=function(e,c){return d.rstr_hmac_md5(d.str2rstr_utf8(e),d.str2rstr_utf8(c))};d.hex_hmac_md5=
function(e,c){return d.rstr2hex(d.raw_hmac_md5(e,c))};d.calculate=function(e,c,b){void 0===c&&(c=null);void 0===b&&(b=null);return c?b?d.raw_hmac_md5(c,e):d.hex_hmac_md5(c,e):b?d.raw_md5(e):d.hex_md5(e)}})(MD5||(MD5={}));
(function(d){(function(e){function c(b,a,f){var g=void 0,c=b[0].replace(/\[\d*\]/,function(a){g=a.slice(1,-1);return""});b="undefined"===typeof b[1]?"true":b[1];f&&(c=c.toLowerCase());a[c]?("string"===typeof a[c]&&(a[c]=[a[c]]),"undefined"===typeof g?a[c].push(b):a[c][g]=b):a[c]=b;return a}e.hostNamePattern=/:\/\/(www[0-9]?\.)?(.[^/:]+)/i;e.uriPattern=/data[:]\S+[/]\S+;base64,[a-zA-Z0-9/=+]/ig;e.urlPattern=/((https?)|(ftp))[:]\/{2}\S+\.[a-z]+[^ >"]*/ig;e.isFromSameOrigin=function(b){b=(new d.URL(b)).origin.toLowerCase();
var a=window.location.origin.toLowerCase();return b==a};e.isAPossibleUrlPattern=function(b,a){void 0===a&&(a=e.urlPattern);a=b.match(a);if(isNullOrUndefined(a))return!1;a=a[0];return Strings.Empty(a,!0)?!1:0==b.indexOf(a)};e.parseQueryString=function(b,a){void 0===a&&(a=!1);var f={},g=0;for(b=b.split("#")[0].split("&");g<b.length;g++)f=c(b[g].split("="),f,a);return f}})(d.URLPatterns||(d.URLPatterns={}))})(TypeScript||(TypeScript={}));
(function(d){var e=function(c){function b(a){return c.call(this,a)||this}__extends(b,c);b.Dump=function(){var a=Error().stack.split("\n");a=$from(a).Skip(2).Select(d.StackFrame.Parse);return new b(a)};b.GetCallerMember=function(){return b.Dump().ToArray()[2]};b.prototype.toString=function(){var a=new StringBuilder;this.ForEach(function(b){a.AppendLine("  at "+b.toString())});return a.toString()};return b}(IEnumerator);d.StackTrace=e})(Internal||(Internal={}));
(function(d){(function(e){function c(a){var b=[],f;for(f in a)"function"==typeof a[f]&&b.push(f);return b}function b(b,c,e,d){return c?f(b):e?a(b,d):""}function a(a,b){return b?(d.logging.warning(TypeExtensions.objectIsNothing),"null"):a.constructor.name}function f(a){a=a[0];var b;"object"==(b=typeof a)&&(b=a.constructor.name);return b}e.$typeof=function(a){var f=typeof a,g="object"==f,d=Array.isArray(a),m=isNullOrUndefined(a),p=new e.TypeInfo,n=b(a,d,g,m);p.typeOf=d?"array":f;p.class=n;m?(p.property=
[],p.methods=[]):(p.property=g?Object.keys(a):[],p.methods=c(a));return p};e.GetObjectMethods=c;e.getClass=function(a){var f="object"==typeof a,g=Array.isArray(a),c=isNullOrUndefined(a);return b(a,g,f,c)};e.getClassInternal=b;e.getObjectClassName=a;e.getElementType=f})(d.Reflection||(d.Reflection={}))})(TypeScript||(TypeScript={}));
var Dictionary=function(d){function e(c){void 0===c&&(c=null);var b=d.call(this,e.ObjectMaps(c))||this;isNullOrUndefined(c)?b.maps={}:Array.isArray(c)?b.maps=Activator.CreateObject(c):"IEnumerator"==$ts.typeof(c).class?b.maps=Activator.CreateObject(c):b.maps=c;return b}__extends(e,d);Object.defineProperty(e.prototype,"Object",{get:function(){return Framework.Extensions.extend(this.maps)},enumerable:!0,configurable:!0});e.prototype.Item=function(c){void 0===c&&(c=null);c||(c=Internal.StackTrace.GetCallerMember().memberName);
return"string"==typeof c?this.maps[c]:this.sequence[c].value};Object.defineProperty(e.prototype,"Keys",{get:function(){return $from(Object.keys(this.maps))},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"Values",{get:function(){return this.Select(function(c){return c.value})},enumerable:!0,configurable:!0});e.FromMaps=function(c){return new e(c)};e.FromNamedValues=function(c){return new e(Activator.CreateObject(c))};e.MapSequence=function(c){return new IEnumerator(this.ObjectMaps(c))};
e.ObjectMaps=function(c){var b=TypeScript.Reflection.$typeof(c);return isNullOrUndefined(c)?[]:Array.isArray(c)?c:"IEnumerator"==b.class?c.ToArray():$from(Object.keys(c)).Select(function(a){return new MapTuple(a,c[a])}).ToArray()};e.prototype.ContainsKey=function(c){return c in this.maps};e.prototype.Add=function(c,b){this.maps[c]=b;this.sequence=e.ObjectMaps(this.maps);return this};e.prototype.Delete=function(c){c in this.maps&&(delete this.maps[c],this.sequence=e.ObjectMaps(this.maps));return this};
return e}(IEnumerator);
(function(d){var e=function(){function c(b){var a=Strings.GetTagValue(b,"://");this.protocol=a.name;a=Strings.GetTagValue(a.value,"/");this.origin=a.name;a=Strings.GetTagValue(a.value,"?");this.path=a.name;this.fileName=Strings.Empty(this.path)?"":d.PathHelper.basename(this.path);this.hash=$from(b.split("#")).Last;0>b.indexOf("#")&&(this.hash="");isNullOrUndefined(this.path)?this.path="/":"/"!==this.path.charAt(0)&&(this.path="/"+this.path);b=c.UrlQuery(a.value);this.queryRawString=a.value;this.queryArguments=
Dictionary.MapSequence(b).Select(function(a){return new NamedValue(a.key,a.value)});a=Strings.GetTagValue(this.origin,":");this.origin=a.name;this.port=Strings.Val(a.value);0==this.port&&(this.port="https"==this.protocol?443:80)}Object.defineProperty(c.prototype,"query",{get:function(){return this.queryArguments.ToArray(!1)},enumerable:!0,configurable:!0});c.prototype.getArgument=function(b,a,f){void 0===a&&(a=!0);void 0===f&&(f="");if(Strings.Empty(b,!1))return"";a||(b=b.toLowerCase());return this.queryArguments.Where(function(f){return a?
f.name==b:f.name.toLowerCase()==b}).FirstOrDefault({value:f}).value};c.UrlQuery=function(b){return b?d.URLPatterns.parseQueryString(b,!1):{}};c.JumpToHash=function(b){window.scrollTo(0,$ts(b).offsetTop)};c.SetHash=function(b){history.pushState?history.pushState(null,null,b):location.hash=b};c.WindowLocation=function(){return new c(window.location.href)};c.prototype.toString=function(){var b=$from(this.query).Select(function(a){return a.name+"="+encodeURIComponent(a.value)}).JoinBy("&"),a=this.protocol+
"://"+this.origin+"/"+this.path;b&&(a=a+"?"+b);this.hash&&(a=a+"#"+this.hash);return a};c.Refresh=function(b){return b+"&refresh="+1E4*Math.random()};c.getHostName=function(b){b=b.match(d.URLPatterns.hostNamePattern);return null!=b&&2<b.length&&"string"===typeof b[2]&&0<b[2].length?b[2]:null};c.ParseAllUrlStrings=function(b){var a=[],f=0;for(b=Strings.getAllMatches(b,d.URLPatterns.urlPattern);f<b.length;f++)a.push(b[f][0]);return a};c.IsWellFormedUriString=function(b){return d.URLPatterns.isAPossibleUrlPattern(b,
d.URLPatterns.uriPattern)};return c}();d.URL=e})(TypeScript||(TypeScript={}));
(function(d){(function(e){e.basename=function(c){c=$from(Strings.RTrim(c,"/").split("/")).Last.split(".");return 1==c.length?c[0]:(new IEnumerator(c)).Take(c.length-1).JoinBy(".")};e.extensionName=function(c){c=$from(Strings.RTrim(c,"/").split("/")).Last.split(".");return 1==c.length?"":c[c.length-1]};e.fileName=function(c){return $from(Strings.RTrim(c,"/").split("/")).Last}})(d.PathHelper||(d.PathHelper={}))})(TypeScript||(TypeScript={}));var Modes;
(function(d){d[d.debug=0]="debug";d[d.development=10]="development";d[d.production=200]="production"})(Modes||(Modes={}));var DOM;
(function(d){function e(a,b,g){var f=$ts("<a>");if("download"in f){f.download=a;f.style.display="none";f.target="__blank";f.type="application/octet-stream";document.body.appendChild(f);if(g&&"string"==typeof b)f.href=b;else try{var c=DataExtensions.uriToBlob(b),e=URL.createObjectURL(c);f.href=e;f.onclick=function(){requestAnimationFrame(function(){URL.revokeObjectURL(e)})}}catch(m){TypeScript.logging.outputWarning&&console.warn("This browser does not support object URLs. Falling back to string URL."),
"string"!==typeof b&&(b=DataExtensions.toUri(b)),f.href=b}f.click();document.body.removeChild(f)}else"string"!==typeof b&&(b=DataExtensions.toUri(b)),window.open(b,"_temp","menubar=no,toolbar=no,status=no")}function c(a,f,g){void 0===f&&(f=null);void 0===g&&(g=null);var c=$ts("<tr>"),e=$ts("<tbody>");var d=Array.isArray(a)?b(f||$ts(Object.keys(a[0]))):b(f||$ts(Object.keys(a.First)));var m=function(a){var b=$ts("<tr>");d.forEach(function(f){return b.appendChild($ts("<td>").display(a[f.key]))});return b};
Array.isArray(a)?a.forEach(function(a){return e.appendChild(m(a))}):a.ForEach(function(a){return e.appendChild(m(a))});d.forEach(function(a){return c.appendChild($ts("<th>",{id:a.value}).display(a.value))});return $ts("<table>",g).asExtends.append($ts("<thead>").display(c)).append(e).HTMLElement}function b(a){var b=$ts.typeof(a);if(b.isArrayOf("string"))return $from(a).Select(function(a){return new MapTuple(a,a)}).ToArray();if(b.isArrayOf(TypeExtensions.DictionaryMap))return a;if(b.isEnumerator&&
"string"==typeof a.First)return a.Select(function(a){return new MapTuple(a,a)}).ToArray();if(b.isEnumerator&&TypeScript.Reflection.getClass(a.First)==TypeExtensions.DictionaryMap)return a.ToArray();throw"Invalid sequence type: "+b.class;}d.inIframe=function(){try{return window.self!==window.top}catch(a){return!0}};d.download=function(a,b,g){void 0===g&&(g=!1);!g&&navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(DataExtensions.uriToBlob(b),a):e(a,b,g)};d.clientSize=function(){var a=window,b=document,
g=b.documentElement;b=b.getElementsByTagName("body")[0];return[a.innerWidth||g.clientWidth||b.clientWidth,a.innerHeight||g.clientHeight||b.clientHeight]};d.AddSelectOptions=function(a,b,g,c){void 0===g&&(g=null);void 0===c&&(c=null);a=$from(a).Select(function(a){return'<option value="'+a.value+'">'+a.key+"</option>"}).JoinBy("\n");g=isNullOrUndefined(g)&&isNullOrUndefined(c)?a:'\n                <select class="'+c+'" multiple name="'+g+'">\n                    '+a+"\n                </select>";$ts("#"+
b).innerHTML=g};d.CreateHTMLTableNode=c;d.AddHTMLTable=function(a,b,g,e){void 0===g&&(g=null);void 0===e&&(e=null);var f=Strings.Trim(b,"#")+"-table";e?e.id||(e.id=f):e={id:f};$ts(b).appendChild(c(a,g,e))}})(DOM||(DOM={}));
(function(d){var e=Modes.development,c=Modes.debug,b=Modes.production,a=function(){function a(){}Object.defineProperty(a,"outputWarning",{get:function(){return $ts.mode<=e},enumerable:!0,configurable:!0});Object.defineProperty(a,"outputEverything",{get:function(){return $ts.mode==c},enumerable:!0,configurable:!0});Object.defineProperty(a,"outputError",{get:function(){return $ts.mode==b},enumerable:!0,configurable:!0});a.warning=function(a){this.outputWarning&&console.warn(a)};a.log=function(a,b){void 0===
b&&(b=f.NA);b="string"!=typeof b?f[b].toLowerCase():b.toLowerCase();this.outputEverything&&("na"!=b&&TypeExtensions.isPrimitive(a)?console.log("%c"+a,"color:"+b):console.log(a))};a.table=function(a){this.outputEverything&&(isNullOrUndefined(a)?a=[]:"string"==typeof a?a=JSON.parse(a):Array.isArray(a)||(a=a.ToArray(!1)),console.table(a))};a.runGroup=function(b,f){var g=Date.now();console.group(b);f();console.groupEnd();f=Date.now();a.log("Program '"+b+"' cost "+(f-g)+"ms to run.","darkblue")};return a}();
d.logging=a;var f;(function(a){a[a.NA=-1]="NA";a[a.Black=0]="Black";a[a.Blue=9]="Blue";a[a.Cyan=11]="Cyan";a[a.DarkBlue=1]="DarkBlue";a[a.DarkCyan=3]="DarkCyan";a[a.DarkGray=8]="DarkGray";a[a.DarkGreen=2]="DarkGreen";a[a.DarkMagenta=5]="DarkMagenta";a[a.DarkRed=4]="DarkRed";a[a.DarkYellow=6]="DarkYellow";a[a.Gray=7]="Gray";a[a.Green=10]="Green";a[a.Magenta=13]="Magenta";a[a.Red=12]="Red";a[a.White=15]="White";a[a.Yellow=14]="Yellow"})(f=d.ConsoleColors||(d.ConsoleColors={}))})(TypeScript||(TypeScript=
{}));
(function(d){(function(e){function c(a,c){void 0===c&&(c=!0);switch(a.tagName.toLowerCase()){case "input":return b(a);case "select":return f(a);case "textarea":return a.value;default:if(c)throw"Get value of <"+a.tagName+"> is not supported!";return a.getAttribute("value")}}function b(b){var f=b.type.toLowerCase();return"checkbox"==f?a(b,!0):"radio"==f?b instanceof DOMEnumerator?b.Where(function(a){return a.checked}).FirstOrDefault().value:b.value:b.value}function a(a,b){void 0===b&&(b=!1);a=a instanceof
DOMEnumerator?a:new DOMEnumerator(document.getElementsByName(a.name));return 1==a.Count?(a=a.ElementAt(0),b?a.checked:a.checked?a.value:null):a.Where(function(a){return a.checked}).Select(function(a){return a.value}).ToArray(!1)}function f(a){var b=[],f=0;for(a=g(a);f<a.length;f++){var c=a[f],e=c.value;e||(e=c.innerText);b.push(e)}return b}function g(a){var b=[];if(a instanceof HTMLSelectElement)for(var f=0,c=a.options.length;f<c;f++){var g=a.options[f];g.selected&&b.push(g)}else return a instanceof
HTMLInputElement?a.checked?a.value:!1:a.Where(function(a){return a.checked}).Select(function(a){return a.value}).ToArray(!1);return b}e.metaValue=function(a,b,f){void 0===b&&(b=null);void 0===f&&(f=!1);a='meta[name~="'+a+'"]';var c=document.querySelector(a);!c&&f&&(c=parent.window.document.querySelector(a));c?b=(f=c.getAttribute("content"))?f:b:TypeScript.logging.outputWarning&&console.warn(a+" not found in current context!");return b};e.getValue=function(a,b){void 0===b&&(b=!0);return c($ts(a),b)};
e.unifyGetValue=c;e.inputValue=b;e.checkboxInput=a;e.selectOptionValues=f;e.getSelectedOptions=g;e.largeText=function(a){return a.value}})(d.InputValueGetter||(d.InputValueGetter={}))})(DOM||(DOM={}));
(function(d){(function(e){function c(){for(var b=0,c=a;b<c.length;b++){var e=c[b];e.hasUpdate()&&e.invoke()}}var b=!1,a=[];e.Add=function(f,g,d){void 0===d&&(d=null);if(f instanceof e.StatusChanged){var h=f;f=function(){return h.changed}}a.push({hasUpdate:f,invoke:g,name:d});b||(setInterval(c,10),b=!0,TypeScript.logging.log("Start background worker...",TypeScript.ConsoleColors.DarkBlue))}})(d.Events||(d.Events={}))})(DOM||(DOM={}));
(function(d){var e=function(){function c(b,a){void 0===a&&(a=null);"number"!=typeof b||isNullOrUndefined(a)?(this.min=b.min,this.max=b.max):(this.min=b,this.max=a)}Object.defineProperty(c.prototype,"range",{get:function(){return[this.min,this.max]},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"Length",{get:function(){return this.max-this.min},enumerable:!0,configurable:!0});c.Create=function(b){var a=Array.isArray(b)?$ts(b):b;b=a.Min();a=a.Max();return new c(b,a)};c.prototype.IsInside=
function(b){return b>=this.min&&b<=this.max};c.prototype.ScaleMapping=function(b,a){return(b-this.min)/this.Length*(a.max-a.min)+a.min};c.prototype.PopulateNumbers=function(b){void 0===b&&(b=this.Length/10);for(var a=[],f=this.min;f<this.max;f+=b)a.push(f);return a};c.prototype.toString=function(){return"["+this.min+", "+this.max+"]"};return c}();d.NumericRange=e})(data||(data={}));var csv;
(function(d){d.toDataFrame=function(e){e=Array.isArray(e)?new IEnumerator(e):e;var c=$ts(Object.keys(e.First));e=e.Select(function(b){var a=c.Select(function(a,c){a=b[a];a=isNullOrUndefined(a)?"":""+a;return a});return new d.row(a)});return(new d.dataframe([new d.row(c)])).AppendRows(e)};d.isTsvFile=function(e){var c=Strings.lineTokens(e);e=$from(c).Select(function(b){return Strings.Count(b,"\t")}).Average();c=$from(c).Select(function(b){return Strings.Count(b,",")}).Average();return e>=c}})(csv||
(csv={}));
(function(d){function e(f){f.url=b;f.post=function(f,c,g,e){c={type:HttpHelpers.measureContentType(c),data:c,sendContentType:(e||{}).sendContentType||!0};HttpHelpers.POST(b(f),c,function(b,c){g&&(200==c?g(a(b)):g({code:c,info:b,url:f}))})};f.getText=function(a,f,c){void 0===c&&(c={nullForNotFound:!1});HttpHelpers.GetAsyn(b(a),function(a,b){200!=b?c.nullForNotFound?f(""):f(a):f(a)})};f.get=function(f,c){HttpHelpers.GetAsyn(b(f),function(b,g){c&&(200==g?c(a(b)):c({code:g,info:b,url:f}))})};f.upload=
function(f,c,g){HttpHelpers.UploadFile(b(f),c,null,function(b){g&&g(a(b))})};"undefined"!=typeof window&&(f.location=c());f.parseURL=function(a){return new TypeScript.URL(a)};f.goto=function(a,b){void 0===b&&(b={currentFrame:!1,lambda:!1});if("#"==a.charAt(0))TypeScript.URL.JumpToHash(a);else{if(b.lambda)return function(){$goto(a,b.currentFrame)};$goto(a,b.currentFrame)}};return f}function c(){var a=TypeScript.URL.WindowLocation(),b=function(b,f,c){void 0===f&&(f=!0);void 0===c&&(c="");return a.getArgument(b,
f,c)};b.url=a;b.hasQueryArguments=!isNullOrUndefined(a.query)&&0<a.query.length;b.path=a.path||"/";b.fileName=a.fileName;b.hash=function(a,b){void 0===a&&(a={trimprefix:!0,doJump:!1});void 0===b&&(b=null);if(isNullOrUndefined(b))return b=window.location.hash,a="boolean"==typeof a?a:a.trimprefix,b&&a&&1<b.length?b.substr(1):isNullOrUndefined(b)?"":b;"boolean"==typeof a&&!0===a||a.doJump?window.location.hash=b:TypeScript.URL.SetHash(b)};return b}function b(a,b){void 0===b&&(b=!1);if("@"==a.charAt(0)){for(var f=
[],c,g=1;g<a.length;g++){var e=c=a.charAt(g);e=-1<l.indexOf(e)?!0:Strings.isNumber(e)||Strings.isAlphabet(e);if(e)f.push(c);else break}c=f.join("");a=DOM.InputValueGetter.metaValue(c,c,!b)+a.substr(f.length+1)}return a}function a(a){if("string"==typeof a)try{return JSON.parse(a)}catch(p){throw console.error("Invalid json text: "),console.error(a),p;}else return a}function f(a,b){a.imports=function(a,b,f,c){void 0===b&&(b=DoNothing);void 0===f&&(f=!1);void 0===c&&(c=!1);return(new HttpHelpers.Imports(a,
f,c)).doLoad(b)};a.eval=function(a,b,f){void 0===b&&(b=!1);b&&(a=LZW.decode(a));HttpHelpers.Imports.doEval(a,f)};a.value=function(a,b,f){void 0===b&&(b=null);void 0===f&&(f=!1);if(isNullOrUndefined(b))return DOM.InputValueGetter.getValue(a,f);DOM.InputValueSetter.setValue(a,b,f)};a.inject=function(a,b){a=$ts(a).contentWindow;TypeScript.logging.outputEverything&&console.log(b);if(Array.isArray(b))for(var f=0;f<b.length;f++)a.eval(b[f].toString());else"string"==typeof b?a.eval(b):a.eval(b.toString())};
a.text=function(a,f,c){void 0===f&&(f=!1);void 0===c&&(c=null);a=d.Handlers.makesureElementIdSelector(a);a=b.doEval(a,null,null);if(isNullOrUndefined(a))return c;f=f?a.innerHTML:a.innerText;TypeScript.logging.log(f,TypeScript.ConsoleColors.DarkGreen);return f};a.loadJSON=function(b,f){void 0===f&&(f=null);b=a.text(b);return isNullOrUndefined(b)?f:JSON.parse(b)};a.excel=function(a,b,f,c){void 0===c&&(c=null);$ts(a).onclick=function(){DOM.Excel.attatchDownload($link(a),"string"==typeof b?$table(b):
b,f,c)}};var f={"\u2714":!0,T:!0,"true":!0,True:!0,TRUE:!0,yes:!0,success:!0,pass:!0},c={"\u2718":!1,F:!1,"false":!1,FALSE:!1,False:!1,wrong:!1,failure:!1};a.parseFileName=TypeScript.PathHelper.fileName;a.parseBool=function(a){return isNullOrUndefined(a)?!1:"number"==typeof a?0!==a:a in f?!0:a in c?!1:!0};a.unixtimestamp=function(){return Math.round((new Date).getTime())};a.baseName=TypeScript.PathHelper.basename;a.extensionName=TypeScript.PathHelper.extensionName;a.withExtensionName=function(a,b){return $ts.extensionName(a).toLowerCase()==
b.toLowerCase()};a.doubleRange=data.NumericRange.Create;a.hook=DOM.Events.Add;a.typeof=TypeScript.Reflection.$typeof;a.clone=function(a){return DataExtensions.merge(a,{})};return a}function g(a){a.isNullOrEmpty=function(a){return isNullOrEmpty(a)};a.from=$from;a.csv=function(a,b){"boolean"!=typeof b&&(b=b(a));return csv.dataframe.Parse(a,b)};a.csv.isTsvFile=csv.isTsvFile;a.csv.toObjects=function(a){return csv.dataframe.Parse(a,csv.isTsvFile(a)).Objects()};a.csv.toText=function(a,b){void 0===b&&(b=
!1);return csv.toDataFrame(a).buildDoc(b)};a.csv.toUri=function(a,b){a=$ts.csv.toText(a,b);return{mime_type:csv.contentType,data:Base64.encode(a)}};a.evalHTML={table:DOM.CreateHTMLTableNode,selectOptions:DOM.AddSelectOptions};a.appendTable=DOM.AddHTMLTable;return a}function h(a){var b=d.Handlers.Shared.string();a.select=function(a,b){void 0===b&&(b=window);b=d.Handlers.stringEval.select(a,b);0==b.Count&&TypeScript.logging.warning("select query of '"+a+"' returns no data...");return b};a.select.getSelects=
function(a){return b.doEval(a,null,null)};a.select.getSelectedOptions=function(a,b){void 0===b&&(b=window);a=$ts(a,{context:b});a=DOM.InputValueGetter.getSelectedOptions(a);return Array.isArray(a)&&"string"==typeof a[0]?a:new DOMEnumerator(a)};a.select.getOption=function(a,b){void 0===b&&(b=window);a=$ts(a,{context:b});a=DOM.InputValueGetter.getSelectedOptions(a);return"boolean"==typeof a?a:0==a.length?null:"string"==typeof a[0]?a[0]:a[0].value};return a}function k(a,b,f){var c=TypeScript.Reflection.$typeof(b),
g=c.typeOf,e=g in a?a[g]():null;if("object"!=g||"HTMLCollection"!=c.class&&"NodeListOf"!=c.class&&"NodeList"!=c.class){if(c.isArray)return e.doEval(b,c,f);if("function"==c.typeOf)TypeScript.logging.outputEverything&&!isNullOrUndefined(f)&&"HTMLIFrameElement"==TypeScript.Reflection.getClass(f)&&(console.log("Apply a new ready event on iframe:"),console.log(f)),DOM.Events.ready(b,["interactive","complete"],f);else{if(TypeExtensions.isElement(b))return TypeExtensions.Extends(b);if(isNullOrUndefined(eval)){a=
a[c.class];if(isNullOrUndefined(a))throw"Unsupported data type: "+c.toString();return a().doEval(b,c,f)}return e.doEval(b,c,f)}}else return d.Handlers.Shared.HTMLCollection().doEval(b,c,f)}d.StringEval=new d.Handlers.stringEval;d.typeGenericElement=function(a,b){return"string"==typeof a?d.StringEval.doEval(a,null,b):a};d.Static=function(){var a=d.Handlers.Shared,b=function(b,f){return k(a,b,f)},c=a.string();b.mode=Modes.production;b=f(b,c);b=g(b);b=e(b);return b=h(b)};var l=[":","_"];d.urlSolver=
b;d.queryFunction=k})(Internal||(Internal={}));"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(d){return this.slice(0,d.length)==d});function $imports(d,e,c,b){void 0===e&&(e=DoNothing);void 0===c&&(c=!1);void 0===b&&(b=!1);return(new HttpHelpers.Imports(d,c,b)).doLoad(e)}
function $include(d){"string"==typeof d&&(d=[d]);$ts(function(){return d.forEach(function(e){var c=$ts("<script>",{type:"text/javascript",src:e});c.onload=function(){document.body.removeChild(c)};document.body.appendChild(c)})})}function md5(d,e,c){void 0===e&&(e=null);void 0===c&&(c=null);return MD5.calculate(d,e,c)}function $from(d){return new IEnumerator(d)}function CharEnumerator(d){return new IEnumerator(Strings.ToCharArray(d))}
function isNullOrEmpty(d){return null==d||void 0==d?!0:Array.isArray(d)&&0==d.length?!0:0==d.Count?!0:!1}function isNullOrUndefined(d){return null==d||void 0==d?!0:!1}function LoadJson(d){return JSON.parse(LoadText(d))}function LoadText(d){return document.getElementById(d).textContent}function getAllUrlParams(d){void 0===d&&(d=window.location.href);return-1<d.indexOf("?")?(d=Strings.GetTagValue(d,"?").value,d=TypeScript.URLPatterns.parseQueryString(d),new Dictionary(d)):new Dictionary({})}
function $goto(d,e){void 0===e&&(e=!1);var c=window;e||(c=window.top);c.location.href=Internal.urlSolver(d,e)}function $download(d,e){void 0===e&&(e=null);DOM.download(e,d,!0)}function base64_decode(d){d=Strings.lineTokens(d);d=$from(d).Where(function(e){return e&&0<e.length}).Select(function(e){return e.trim()}).JoinBy("");return Base64.decode(d)}
function parseBoolean(d){return"boolean"==typeof d?d:"number"==typeof d?0!=d:"string"==typeof d?d in Strings.logical?Strings.logical[d]:!0:!isNullOrUndefined(d)}function DoNothing(){return null}function saveSvgAsPng(d,e,c){void 0===c&&(c=CanvasHelper.saveSvgAsPng.Options.Default());return CanvasHelper.saveSvgAsPng.Encoder.saveSvgAsPng(d,e,c)}
var sprintf=data.sprintf.doFormat,executeJavaScript="javascript:void(0);",$ts=Internal.Static(),$image=function(d,e){return Internal.typeGenericElement(d,e)},$input=function(d,e){return Internal.typeGenericElement(d,e)},$link=function(d,e){return Internal.typeGenericElement(d,e)},$iframe=function(d,e){return Internal.typeGenericElement(d,e)},$table=function(d,e){var c=Internal.typeGenericElement(d,e);c.excel=function(b,a){return DOM.Excel.excel(c,b,a)};return c};
function $clone(d){var e={};if(isNullOrUndefined(d))TypeScript.logging.warning("target object is nothing!");else for(var c in d)e[c]=d[c];return e}var TypeExtensions;
(function(d){d.objectIsNothing="Object is nothing! [https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/nothing]";d.DictionaryMap=TypeScript.Reflection.getClass(new MapTuple("",""));d.ensureNumeric=function(e){return"number"==typeof e?e:parseFloat(e)};d.isPrimitive=function(e){e=typeof e;return"string"==e||"number"==e||"boolean"==e};d.isElement=function(e){try{return e instanceof HTMLElement}catch(c){return"object"===typeof e&&1===e.nodeType&&"object"===typeof e.style&&"object"===
typeof e.ownerDocument}};d.isMessageObject=function(e){var c=$ts.typeof(e);c=Activator.EmptyObject(c.property,!0);return"code"in c&&"info"in c&&Strings.IsPattern(e.code.toString(),/\d+/g)?!0:!1};d.checkENV=function(){return"undefined"!==typeof Window?ENV.browser:ENV.node}})(TypeExtensions||(TypeExtensions={}));var ENV;(function(d){d[d.browser=0]="browser";d[d.node=1]="node"})(ENV||(ENV={}));
var Group=function(d){function e(c,b){b=d.call(this,b)||this;b.Key=c;return b}__extends(e,d);Object.defineProperty(e.prototype,"Group",{get:function(){return this.sequence},enumerable:!0,configurable:!0});e.prototype.ToMaps=function(){var c=this;return $from(this.sequence).Select(function(b){return new MapTuple(c.Key,b)}).ToArray()};return e}(IEnumerator),List=function(d){function e(c){void 0===c&&(c=null);return d.call(this,c||[])||this}__extends(e,d);e.prototype.Add=function(c){this.sequence.push(c);
return this};e.prototype.AddRange=function(c){var b=this;Array.isArray(c)?c.forEach(function(a){return b.sequence.push(a)}):c.ForEach(function(a){return b.sequence.push(a)});return this};e.prototype.IndexOf=function(c){return this.sequence.indexOf(c)};e.prototype.Pop=function(){var c=this.First;this.sequence=this.sequence.slice(1);return c};return e}(IEnumerator),Matrix=function(d){function e(c,b,a){void 0===a&&(a=null);return d.call(this,e.emptyMatrix(c,b,a))||this}__extends(e,d);Object.defineProperty(e.prototype,
"rows",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"columns",{get:function(){return this.sequence[0].length},enumerable:!0,configurable:!0});e.emptyMatrix=function(c,b,a){for(var f=[],g=0;g<b;g++)f.push(DataExtensions.Dim(c,a));return f};e.prototype.M=function(c,b,a){void 0===a&&(a=null);if(isNullOrUndefined(a))return this.sequence[c][b];this.sequence[c][b]=a};e.prototype.column=function(c,b){void 0===b&&(b=null);if(isNullOrUndefined(b)){b=
[];for(var a=0;a<this.rows;a++)b.push(this.sequence[a][c]);return b}b=Array.isArray(b)?b:b.ToArray(!1);for(a=0;a<this.rows;a++)this.sequence[a][c]=b[a];return null};e.prototype.row=function(c,b){void 0===b&&(b=null);if(isNullOrUndefined(b))return this.sequence[c];Array.isArray(b)?this.sequence[c]=b:this.sequence[c]=b.ToArray(!1)};e.prototype.toString=function(){return"["+this.rows+", "+this.columns+"]"};return e}(IEnumerator),Pointer=function(d){function e(c){c=d.call(this,c)||this;c.p=0;return c}
__extends(e,d);Object.defineProperty(e.prototype,"EndRead",{get:function(){return this.p>=this.Count},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"Current",{get:function(){return this.sequence[this.p]},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"Next",{get:function(){var c=this.Current;this.p+=1;return c},enumerable:!0,configurable:!0});e.prototype.MoveNext=function(){this.p+=1;return this};e.prototype.Peek=function(c){return this.sequence[this.p+c]};return e}(IEnumerator),
SlideWindow=function(d){function e(c,b){b=d.call(this,b)||this;b.index=c;return b}__extends(e,d);e.Split=function(c,b,a){void 0===a&&(a=1);Array.isArray(c)||(c=c.ToArray());for(var f=c.length-b,g=[],d=0;d<f;d+=a){for(var k=Array(b),l=0;l<b;l++)k[l]=c[d+l];g.push(new e(d,k))}return new IEnumerator(g)};return e}(IEnumerator),Which;
(function(d){function e(b,a){void 0===a&&(a=c.default());for(var f=null,g=0,e=0;e<b.Count;e++)0<a(b.ElementAt(e),f)&&(f=b.ElementAt(e),g=e);return g}d.Is=function(b){Array.isArray(b)&&(b=new IEnumerator(b));return b.Select(function(a,b){return{flag:a,index:b}}).Where(function(a){return a.flag}).Select(function(a){return a.index})};var c=function(){function b(){this.as_numeric=null}b.prototype.compares=function(a,b){this.as_numeric||(this.as_numeric=Strings.AsNumeric(a),this.as_numeric||(this.as_numeric=
Strings.AsNumeric(b)));return this.as_numeric?this.as_numeric(a)-this.as_numeric(b):0};b.default=function(){return(new b).compares};return b}();d.DefaultCompares=c;d.Max=e;d.Min=function(b,a){void 0===a&&(a=c.default());return e(b,function(b,c){return-a(b,c)})}})(Which||(Which={}));
(function(d){var e=function(){function c(b,a){this.xset=b;this.yset=a;this.keysT=d.AllKeys(b);this.keysU=d.AllKeys(a)}c.prototype.JoinProject=function(b,a){var f={};this.keysT.forEach(function(a){return f[a]=b[a]});this.keysU.forEach(function(b){return f[b]=a[b]});return f};c.prototype.Union=function(b,a,f,c){void 0===c&&(c=this.JoinProject);var g=this.buildUtree(a,f),e=[],d=new algorithm.BTree.binaryTree(f);this.xset.forEach(function(a){var f=b(a),h=g.find(f);h?(h.forEach(function(b){return e.push(c(a,
b))}),d.find(f)||d.add(f)):e.push(c(a,{}))});this.yset.forEach(function(b){var f=a(b);d.find(f)||e.push(c({},b))});return new IEnumerator(e)};c.prototype.buildUtree=function(b,a){var f=new algorithm.BTree.binaryTree(a);this.yset.forEach(function(a){var c=b(a),g=f.find(c);g?g.push(a):f.add(c,[a])});return f};c.prototype.LeftJoin=function(b,a,f,c){void 0===c&&(c=this.JoinProject);var g=this.buildUtree(a,f),e=[];this.xset.forEach(function(a){var f=b(a);(f=g.find(f))?f.forEach(function(b){return e.push(c(a,
b))}):e.push(c(a,{}))});return new IEnumerator(e)};return c}();d.JoinHelper=e})(Enumerable||(Enumerable={}));
(function(d){var e=function(){function c(){}c.parseQuery=function(b){if("&"==b.charAt(0)){var a=!0;b=b.substr(1)}else a=!1;return c.parseExpression(b,a)};c.getById=function(b){return{type:d.QueryTypes.id,singleNode:!0,expression:b}};c.getByClass=function(b,a){return{type:d.QueryTypes.class,singleNode:a,expression:b}};c.getByName=function(b,a){return{type:d.QueryTypes.name,singleNode:a,expression:"[name='"+b+"']"}};c.getByTag=function(b,a){return{type:d.QueryTypes.tagName,singleNode:a,expression:b}};
c.createElement=function(b){return{type:d.QueryTypes.NoQuery,singleNode:!0,expression:b}};c.queryMeta=function(b){return{type:d.QueryTypes.QueryMeta,singleNode:!0,expression:b}};c.isSelectorQuery=function(b){var a=-1<b.indexOf(" ");b="<"==b.charAt(0)&&">"==b.charAt(b.length-1);return a&&!b};c.parseExpression=function(b,a){var f=b.charAt(0);if(c.isSelectorQuery(b))return{type:d.QueryTypes.tagName,singleNode:a,expression:b};switch(f){case "#":return this.getById(b.substr(1));case ".":return this.getByClass(b.substr(1),
a);case "!":return this.getByName(b.substr(1),a);case "<":return this.createElement(b);case "@":return this.queryMeta(b.substr(1));default:return this.getByTag(b,a)}};return c}();d.Query=e})(DOM||(DOM={}));(function(d){d=d.QueryTypes||(d.QueryTypes={});d[d.NoQuery=0]="NoQuery";d[d.id=1]="id";d[d["class"]=10]="class";d[d.name=100]="name";d[d.tagName=-100]="tagName";d[d.QueryMeta=200]="QueryMeta"})(DOM||(DOM={}));
(function(d){(function(e){function c(a,f,c,g){void 0===g&&(g=null);d.download(f,{mime_type:e.contentType,data:Base64.encode(b(a,c,g))})}function b(b,f,c){void 0===c&&(c=null);var g=new StringBuilder("","\n");g.AppendLine('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">');g.AppendLine("<head>");g.AppendLine('<meta name="ProgId" content="Excel.Sheet">');g.AppendLine('<meta name="Generator" content="Microsoft Excel 11">');
g.AppendLine('<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">');g.AppendLine("    \n\x3c!--[if gte mso 9]>\n\t<xml>\n\t\t<x:ExcelWorkbook>\n\t\t\t<x:ExcelWorksheets>\n\t\t\t\t<x:ExcelWorksheet>\n\t\t\t\t\t<x:Name>"+f+"</x:Name>\n\t\t\t\t\t<x:WorksheetOptions>\n\t\t\t\t\t\t<x:DisplayGridlines/>\n\t\t\t\t\t</x:WorksheetOptions>\n\t\t\t\t</x:ExcelWorksheet>\n\t\t\t</x:ExcelWorksheets>\n\t\t</x:ExcelWorkbook>\n\t</xml>\n<![endif]--\x3e\n");g.AppendLine("</head>");g.AppendLine("<body>");
g.AppendLine(a(b,c));g.AppendLine("</body>");g.AppendLine("</html>");return g.toString()}function a(a,b){b=new StringBuilder("","\n");var c=a.tBodies.item(0),e=a.tHead.rows.item(0);b.AppendLine(f(a));b.AppendLine(f(a.tHead));b.AppendLine(g(e,!0));b.AppendLine("</thead>");b.AppendLine(f(c));for(a=0;a<c.rows.length;a++)b.AppendLine(g(c.rows.item(a),!1));b.AppendLine("</tbody>");b.AppendLine("</table>");return b.toString()}function f(a){var b=a.tagName.toLowerCase();a=a.style.cssText;return Strings.Empty(a,
!0)?"<"+b+">":"<"+b+' style="'+a+'">'}function g(a,b){b=b?"th":"td";for(var c=[],g=0;g<a.cells.length;g++)c.push("<"+b+">"+h(a.cells.item(g))+"</"+b+">");return""+f(a)+c.join("")+"</tr>"}function h(a){a=a.innerHTML;a=a.replace(/[<]\/?button([\s\S]*?)[>]/ig,"");a=a.replace(/[<]select([\s\S]*?)[<]\/select[>]/ig,"");return a=a.replace(/[<]script([\s\S]*?)[<]\/script[>]/ig,"")}e.contentType="application/vnd.ms-excel";e.attatchDownload=function(a,b,f,g){void 0===f&&(f="Sheet1");void 0===g&&(g=null);c("string"==
typeof b?$ts(b):b,a.download,f,g)};e.excel=c;e.ToExcel=b;e.ToHtml=a})(d.Excel||(d.Excel={}))})(DOM||(DOM={}));
(function(d){(function(e){function c(a,b){a=a.options;for(var f=0;f<a.length;f++)a.item(f).selected=!1,a.item(f).value==b&&(a.item(f).selected=!0)}function b(a,b){a=a.Select(function(a){a=a.asInput;a.checked=!1;return a}).Where(function(a){return a.value==b}).First;a.checked=!0;TypeScript.logging.log(a)}function a(a,g,e){var f=a.First;switch(f.tagName.toLowerCase()){case "input":switch(f.asInput.type.toLowerCase()){case "checkbox":b(a,g);break;case "radio":b(a,g);break;default:a.attr("value",g)}break;
case "select":a.ForEach(function(a){return c(a,g)});break;case "textarea":a.ctype().ForEach(function(a){return a.value=g});break;default:if(e)throw"Set value of <"+a.tagName+"> is not supported!";a.attr("value",g)}}e.setValue=function(b,g,e){void 0===e&&(e=!0);b=$ts(b);if($ts.typeof(b).isEnumerator)a(new DOMEnumerator(b),g,e);else switch(b.tagName.toLowerCase()){case "input":b.asInput.value=g;break;case "select":c(b,g);break;case "textarea":b.any.value=g;break;default:if(e)throw"Set value of <"+b.tagName+
"> is not supported!";return b.setAttribute("value",g)}}})(d.InputValueSetter||(d.InputValueSetter={}))})(DOM||(DOM={}));
(function(d){var e=function(){function c(){}c.FromNode=function(b){var a=new c;a.tagName=b.tagName;a.id=b.id;a.classList=this.tokenList(b.classList);a.attrs=this.nameValueMaps(b.attributes);return a};c.tokenList=function(b){for(var a=[],f=0;f<b.length;f++)a.push(b.item(f));return a};c.nameValueMaps=function(b){for(var a=[],f,c=0;c<b.length;c++)f=b.item(c),f=new NamedValue(f.name,f.value),a.push(f);return a};return c}();d.node=e})(DOM||(DOM={}));
(function(d){d.attrs=/\S+\s*[=]\s*((["].*["])|(['].*[']))/g;d.ParseNodeDeclare=function(e){e=e.substr(1,e.length-2).trim();e=Strings.GetTagValue(e," ");var c=e.name,b=[];0<e.value.length&&(b=$from(e.value.match(d.attrs)).Where(function(a){return 0<a.length}).Select(function(a){a=Strings.GetTagValue(a,"=");var b=a.value.trim();b=b.substr(1,b.length-2);return new NamedValue(a.name,b)}).ToArray());return{tag:c,attrs:b}}})(DOM||(DOM={}));
(function(d){(function(e){e.isSupportsCSSAnimation=function(){var c=document.getElementsByTagName("body")[0].style;return"undefined"!=typeof c.animation||"undefined"!=typeof c.WebkitAnimation?!0:!1}})(d.Animation||(d.Animation={}))})(DOM||(DOM={}));
(function(d){(function(e){e.parseStylesheet=function(c){c=new Pointer(CharEnumerator(c));for(var b=[],a=[],f,g;!c.EndRead;)g=c.Current,c.MoveNext(),":"==g?(f=a.join("").trim(),a=[]):";"==g?(g=a.join("").trim(),a=[],b.push(new NamedValue(f,g))):a.push(g);0<a.length&&b.push(new NamedValue(f,a.join("")));return b}})(d.CSS||(d.CSS={}))})(DOM||(DOM={}));
(function(d){(function(e){(function(c){function b(a,b){for(var f=0;f<b.length;f++){var c=b[f],e=a,d=c.name;c=c.value;switch(d.toLowerCase()){case "color":e.style.color=c;break;case "background-color":e.style.backgroundColor=c;break;case "font-size":e.style.fontSize=c;break;default:e.style[d]=c,TypeScript.logging.warning("Set style '"+d+"' is not implements yet...")}}}c.css=function(a,f){b(a,e.parseStylesheet(f))};c.setStyle=b})(e.Setter||(e.Setter={}))})(d.CSS||(d.CSS={}))})(DOM||(DOM={}));
(function(d){(function(e){function c(b,a,f){if(document.addEventListener)if(b&&b.nodeName||b===window)b.addEventListener(a,f,!1);else{if(b&&b.length)for(var g=0;g<b.length;g++)c(b[g],a,f)}else if(b&&b.nodeName||b===window)b.attachEvent("on"+a,function(){return f.call(b,window.event)});else if(b&&b.length)for(g=0;g<b.length;g++)c(b[g],a,f)}e.ready=function(b,a,f){void 0===a&&(a=["interactive","complete"]);void 0===f&&(f=null);var c=isNullOrUndefined(f)?document:isNullOrUndefined(f.contentDocument)?
f.contentWindow.document:f.contentDocument;if("function"===typeof b){if(isNullOrUndefined(c)){if($ts.mode==Modes.production){console.warn("Target document object is nothing! Current event will not be handled....");return}if($ts.mode==Modes.debug){console.warn("Target document object is nothing! Current event will not be handled....");console.log("target iframe:");console.warn(f.contentWindow);return}}else TypeScript.logging.outputEverything&&(TypeScript.logging.log("Add Document.ready event handler.",
TypeScript.ConsoleColors.Green),TypeScript.logging.log("document.readyState = "+c.readyState,TypeScript.ConsoleColors.Green));if(-1<a.indexOf(c.readyState))return b();c.addEventListener("DOMContentLoaded",b,!1)}};e.addEvent=c})(d.Events||(d.Events={}))})(DOM||(DOM={}));
(function(d){(function(e){var c=function(){function b(a,b){void 0===b&&(b=!0);this.predicate=a;this.triggerNo=b;this.agree=a();isNullOrUndefined(b)&&(this.triggerNo=!1)}Object.defineProperty(b.prototype,"changed",{get:function(){var a=this.predicate();return a&&this.agree?!1:a&&!this.agree?this.agree=!0:!a&&this.agree?(this.agree=!1,this.triggerNo):!1},enumerable:!0,configurable:!0});return b}();e.StatusChanged=c})(d.Events||(d.Events={}))})(DOM||(DOM={}));
var HTMLTsElement=function(){function d(e){this.node=e instanceof HTMLElement?e:e.node}Object.defineProperty(d.prototype,"HTMLElement",{get:function(){return this.node},enumerable:!0,configurable:!0});d.prototype.display=function(e){if(e)if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)this.HTMLElement.innerHTML=e.toString();else{var c=this.HTMLElement;e="function"==typeof e?e():e instanceof d?e.HTMLElement:e;c.innerHTML="";c.appendChild(e)}else this.HTMLElement.innerHTML="";return this};
d.prototype.clear=function(){this.HTMLElement.innerHTML="";return this};d.prototype.text=function(e){this.HTMLElement.innerText=e;return this};d.prototype.addClass=function(e){var c=this.HTMLElement;c.classList.contains(e)||c.classList.add(e);return this};d.prototype.removeClass=function(e){var c=this.HTMLElement;c.classList.contains(e)&&c.classList.remove(e);return this};d.prototype.append=function(e){e instanceof d?this.HTMLElement.appendChild(e.HTMLElement):e instanceof HTMLElement?this.HTMLElement.appendChild(e):
this.HTMLElement.appendChild(e());return this};d.prototype.show=function(){this.HTMLElement.style.display="block";return this};d.prototype.hide=function(){this.HTMLElement.style.display="none";return this};return d}();
(function(d){function e(c,b){"string"==typeof b?b=$ts("<span>").display(b):"function"==typeof b&&(b=b());c.append(b)}d.Extends=function(c){if(isNullOrUndefined(c))return null;var b=new HTMLTsElement(c);c.css=function(a,b){void 0===b&&(b=!1);b?c.setAttribute("style",a):DOM.CSS.Setter.css(c,a);return c};c.display=function(a){b.display(a);return c};c.appendElement=function(a){if(Array.isArray(a))a.forEach(function(a){return e(b,a)});else for(var f=0;f<arguments.length;f++)e(b,arguments[f]);return c};
c.show=function(){b.show();return c};c.hide=function(){b.hide();return c};c.addClass=function(a){b.addClass(a);return c};c.removeClass=function(a){b.removeClass(a);return c};c.onClassChanged=function(a,b,g){g=new DOM.Events.StatusChanged(function(){return c.classList.contains(a)},g);$ts.hook(g,b)};c.CType=function(){return c};c.clear=function(){c.innerHTML="";return c};c.selects=function(a){return Internal.Handlers.stringEval.select(a,c)};c.attr=function(a,b){if("src"==(a=a.toLowerCase())||"href"==
a)b=Internal.urlSolver(b,!0),TypeScript.logging.log("set_attr "+a+"='"+b+"'");isNullOrUndefined(b)?c.removeAttribute(a):c.setAttribute(a,b);return c};c.interactive=function(a){a?(c.style.pointerEvents="auto",c.style.opacity="1",c.style.filter=null,c.style.webkitFilter=null):(c.style.pointerEvents="none",c.style.opacity="0.4",c.style.filter="grayscale(100%)",c.style.webkitFilter="grayscale(100%)")};c.asExtends=b;c.any=c;c.asImage=c;return c.asInput=c}})(TypeExtensions||(TypeExtensions={}));
(function(d){(function(e){var c=function(){function b(a,b){void 0===a&&(a={});void 0===b&&(b={});this.args={};this.changes=[];this.args=$clone(a);this.categories={};for(var f in b){a=0;for(var c=b[f];a<c.length;a++)this.categories[c[a]]=f}}b.prototype.reset=function(){this.changes=[]};b.prototype.setObject=function(a){this.reset();for(var b in a)this.set(b,a[b]);return this.getUpdatedCategories(!0)};b.prototype.assert=function(a,b){a=this.args[a];return isNullOrUndefined(b)&&isNullOrUndefined(a)?
!1:isNullOrUndefined(b)?!0:isNullOrUndefined(a)?!0:b!==a};b.prototype.category=function(a,b){void 0===b&&(b=null);return Strings.Empty(b)?a in this.categories?this.categories[a]:null:this.categories[a]=b};b.prototype.set=function(a,b){this.args[a]=b;a in this.categories&&this.changes.push(this.categories[a])};b.prototype.get=function(a){return a in this.args?this.args[a]:null};b.prototype.getUpdatedCategories=function(a){void 0===a&&(a=!0);var b={};if(0==this.changes.length)return{};for(var c=0,e=
$from(this.changes).Distinct().ToArray();c<e.length;c++)b[e[c]]=!0;a&&(this.changes=[]);return b};b.prototype.toString=function(){return HttpHelpers.serialize(this.args)};return b}();e.Arguments=c})(d.Data||(d.Data={}))})(TypeScript||(TypeScript={}));
(function(d){(function(e){(function(c){function b(a,b,c,e,d){a=a.map(function(a){return a.slice()});e=e*(b[d+2]-b[d+1])+b[d+1];for(var f=0;f<c;f++)for(var g=0;g<c-f;g++){var h=d+g+f-(c-2),k=h+c-f;h=b[h]!==b[k]?(e-b[h])/(b[k]-b[h]):0;for(k=0;k<a[0].length;k++)a[g][k]=(1-h)*a[g][k]+h*a[g+1][k]}return a[0]}function a(a,b,c){for(var f=Array(b+1),g=c;g<c+b+1;g++)f[g-c]=a[g].slice();return f}c.interpolation=function(c,g,e){var f=g.length-c.length-1;if(c.length<=f)throw new TypeError("cp.length < d, k === cp + d + 1");
for(var d=Array(e*(c.length-f)+1),h=f-1;h<c.length-1;h++)for(var p=a(c,f,h-f+1),n=0;n<e;n++)d[n+(h-f+1)*e]=b(p,g,f,n/e,h);d[d.length-1]=b(a(c,f,h-f),g,f,1,h-1);return d.map(function(a){return{x:a[0],y:a[1]}})}})(e.BSpline||(e.BSpline={}))})(d.Data||(d.Data={}))})(TypeScript||(TypeScript={}));
(function(d){(function(e){var c=function(){function b(a){this.meta=a}b.prototype.GetValue=function(a){void 0===a&&(a=null);a||(a=Internal.StackTrace.GetCallerMember().memberName);return a in this.meta?this.meta[a]:null};return b}();e.MetaReader=c})(d.Data||(d.Data={}))})(TypeScript||(TypeScript={}));
(function(d){(function(e){function c(b,a){return b-a}e.group=function(b,a){for(var c=[],g=0;g<b.length;g++){for(var e=b[g],d=!1,l=0,m=c;l<m.length;l++){var p=m[l];if(Math.abs(p.Key-e)<=a){d=!0;p.Group.push(e);break}}d||c.push(new Group(e,[e]))}return c};e.quantile=function(b,a,f){void 0===f&&(f={sorted:!1,method:"na"});if(!Array.isArray(b))throw new TypeError("quantile()::invalid input argument. First argument must be an array.");if("number"!==typeof a||a!==a)throw new TypeError("quantile()::invalid input argument. Quantile probability must be numeric.");
if(0>a||1<a)throw new TypeError("quantile()::invalid input argument. Quantile probability must be on the interval [0,1].");var g=b.length;f.sorted||(b=b.slice(),b.sort(c));if(0===a)return b[0];if(1===a)return b[g-1];a=g*a-1;if(a===Math.floor(a))return(b[a]+b[a+1])/2;a=Math.ceil(a);return b[a]}})(d.Data||(d.Data={}))})(TypeScript||(TypeScript={}));
(function(d){(function(e){var c=function(a){function c(){return a.call(this,[])||this}__extends(c,a);Object.defineProperty(c.prototype,"Q",{get:function(){return this.sequence},enumerable:!0,configurable:!0});c.prototype.enqueue=function(a){var c=this.Last,f=this.Q;a=new b(a);f.push(a);c&&(c.below=a,a.above=c)};c.prototype.extract=function(a){var b=this.Q,c=b[a-1],f=b[a+1];a=b.splice(a,1)[0];c&&(c.below=f);f&&(f.above=c);return a};c.prototype.dequeue=function(){return this.extract(0)};return c}(IEnumerator);
e.PriorityQueue=c;var b=function(){function a(a){this.value=a}a.prototype.toString=function(){return this.value.toString()};return a}();e.QueueItem=b})(d.Data||(d.Data={}))})(TypeScript||(TypeScript={}));var algorithm;
(function(d){(function(e){var c=function(){function b(a){void 0===a&&(a=function(a,b){a=Strings.as_numeric(a);b=Strings.as_numeric(b);return a-b});this.compares=a}b.prototype.add=function(a,b){void 0===b&&(b=null);var c=this.root;if(c)for(;c;){var f=this.compares(a,c.key);if(0==f){c.value=b;break}else if(0>f)if(c.left)c=c.left;else{c.left=new e.node(a,b);break}else if(c.right)c=c.right;else{c.right=new e.node(a,b);break}}else this.root=new e.node(a,b)};b.prototype.find=function(a){for(var b=this.root,
c;b;){c=this.compares(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null};b.prototype.ToArray=function(){return e.binaryTreeExtensions.populateNodes(this.root)};b.prototype.AsEnumerable=function(){return new IEnumerator(this.ToArray())};return b}();e.binaryTree=c})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));
(function(d){(function(e){(function(c){function b(a,c){isNullOrUndefined(a)?TypeScript.logging.outputWarning&&console.warn(a):(c.push(a),a.left&&b(a.left,c),a.right&&b(a.right,c))}c.populateNodes=function(a){var c=[];b(a,c);return c}})(e.binaryTreeExtensions||(e.binaryTreeExtensions={}))})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));
(function(d){(function(e){var c=function(){function b(a,b,c,e){void 0===b&&(b=null);void 0===c&&(c=null);void 0===e&&(e=null);this.key=a;this.left=c;this.right=e;this.value=b}b.prototype.toString=function(){return this.key.toString()};return b}();e.node=c})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));
(function(d){(function(e){function c(b,c,f,d){if(!b)return e.w3color.emptyObject;c||(c=1);var g=e.rgbToHsl(b.r,b.g,b.b);var h=e.rgbToHwb(b.r,b.g,b.b);var k=e.rgbToCmyk(b.r,b.g,b.b);f=f||g.h;var l=d||g.s;d=a(f);b={red:b.r,green:b.g,blue:b.b,hue:f,sat:l,lightness:g.l,whiteness:h.w,blackness:h.b,cyan:k.c,magenta:k.m,yellow:k.y,black:k.k,ncol:d,opacity:c,valid:!0};b.red=Number(b.red.toFixed(0));b.green=Number(b.green.toFixed(0));b.blue=Number(b.blue.toFixed(0));b.hue=Number(b.hue.toFixed(0));b.sat=Number(b.sat.toFixed(2));
b.lightness=Number(b.lightness.toFixed(2));b.whiteness=Number(b.whiteness.toFixed(2));b.blackness=Number(b.blackness.toFixed(2));b.cyan=Number(b.cyan.toFixed(2));b.magenta=Number(b.magenta.toFixed(2));b.yellow=Number(b.yellow.toFixed(2));b.black=Number(b.black.toFixed(2));b.ncol=b.ncol.substr(0,1)+Math.round(Number(b.ncol.substr(1)));b.opacity=Number(b.opacity.toFixed(2));return b}function b(a){if("names"==a)return"AliceBlue AntiqueWhite Aqua Aquamarine Azure Beige Bisque Black BlanchedAlmond Blue BlueViolet Brown BurlyWood CadetBlue Chartreuse Chocolate Coral CornflowerBlue Cornsilk Crimson Cyan DarkBlue DarkCyan DarkGoldenRod DarkGray DarkGrey DarkGreen DarkKhaki DarkMagenta DarkOliveGreen DarkOrange DarkOrchid DarkRed DarkSalmon DarkSeaGreen DarkSlateBlue DarkSlateGray DarkSlateGrey DarkTurquoise DarkViolet DeepPink DeepSkyBlue DimGray DimGrey DodgerBlue FireBrick FloralWhite ForestGreen Fuchsia Gainsboro GhostWhite Gold GoldenRod Gray Grey Green GreenYellow HoneyDew HotPink IndianRed Indigo Ivory Khaki Lavender LavenderBlush LawnGreen LemonChiffon LightBlue LightCoral LightCyan LightGoldenRodYellow LightGray LightGrey LightGreen LightPink LightSalmon LightSeaGreen LightSkyBlue LightSlateGray LightSlateGrey LightSteelBlue LightYellow Lime LimeGreen Linen Magenta Maroon MediumAquaMarine MediumBlue MediumOrchid MediumPurple MediumSeaGreen MediumSlateBlue MediumSpringGreen MediumTurquoise MediumVioletRed MidnightBlue MintCream MistyRose Moccasin NavajoWhite Navy OldLace Olive OliveDrab Orange OrangeRed Orchid PaleGoldenRod PaleGreen PaleTurquoise PaleVioletRed PapayaWhip PeachPuff Peru Pink Plum PowderBlue Purple RebeccaPurple Red RosyBrown RoyalBlue SaddleBrown Salmon SandyBrown SeaGreen SeaShell Sienna Silver SkyBlue SlateBlue SlateGray SlateGrey Snow SpringGreen SteelBlue Tan Teal Thistle Tomato Turquoise Violet Wheat White WhiteSmoke Yellow YellowGreen".split(" ");
if("hexs"==a)return"f0f8ff faebd7 00ffff 7fffd4 f0ffff f5f5dc ffe4c4 000000 ffebcd 0000ff 8a2be2 a52a2a deb887 5f9ea0 7fff00 d2691e ff7f50 6495ed fff8dc dc143c 00ffff 00008b 008b8b b8860b a9a9a9 a9a9a9 006400 bdb76b 8b008b 556b2f ff8c00 9932cc 8b0000 e9967a 8fbc8f 483d8b 2f4f4f 2f4f4f 00ced1 9400d3 ff1493 00bfff 696969 696969 1e90ff b22222 fffaf0 228b22 ff00ff dcdcdc f8f8ff ffd700 daa520 808080 808080 008000 adff2f f0fff0 ff69b4 cd5c5c 4b0082 fffff0 f0e68c e6e6fa fff0f5 7cfc00 fffacd add8e6 f08080 e0ffff fafad2 d3d3d3 d3d3d3 90ee90 ffb6c1 ffa07a 20b2aa 87cefa 778899 778899 b0c4de ffffe0 00ff00 32cd32 faf0e6 ff00ff 800000 66cdaa 0000cd ba55d3 9370db 3cb371 7b68ee 00fa9a 48d1cc c71585 191970 f5fffa ffe4e1 ffe4b5 ffdead 000080 fdf5e6 808000 6b8e23 ffa500 ff4500 da70d6 eee8aa 98fb98 afeeee db7093 ffefd5 ffdab9 cd853f ffc0cb dda0dd b0e0e6 800080 663399 ff0000 bc8f8f 4169e1 8b4513 fa8072 f4a460 2e8b57 fff5ee a0522d c0c0c0 87ceeb 6a5acd 708090 708090 fffafa 00ff7f 4682b4 d2b48c 008080 d8bfd8 ff6347 40e0d0 ee82ee f5deb3 ffffff f5f5f5 ffff00 9acd32".split(" ")}
function a(a){for(;360<=a;)a-=360;if(60>a)return"R"+a/.6;if(120>a)return"Y"+(a-60)/.6;if(180>a)return"G"+(a-120)/.6;if(240>a)return"C"+(a-180)/.6;if(300>a)return"B"+(a-240)/.6;if(360>a)return"M"+(a-300)/.6}function f(a){var b,c,f;a=e.w3trim(a).toUpperCase();a=a.replace("(","");a=a.replace(")","");a=a.replace("NCS","NCS ");a=a.replace(/  /g," ");-1==a.indexOf("NCS")&&(a="NCS "+a);a=a.match(/^(?:NCS|NCS\sS)\s(\d{2})(\d{2})-(N|[A-Z])(\d{2})?([A-Z])?$/);if(null===a)return!1;var d=parseInt(a[1],10);var g=
parseInt(a[2],10);var n=a[3];if("N"!=n&&"Y"!=n&&"R"!=n&&"B"!=n&&"G"!=n)return!1;a=parseInt(a[4],10)||0;"N"!==n?(d=1.05*d-5.25,"Y"===n&&60>=a?b=1:"Y"===n&&60<a||"R"===n&&80>=a?b=(Math.sqrt(14884-Math.pow("Y"===n?a-60:a+40,2))-22)/100:"R"===n&&80<a||"B"===n?b=0:"G"===n&&(b=(Math.sqrt(33800-Math.pow(a-170,2))-70)/100),"Y"===n&&80>=a?c=0:"Y"===n&&80<a||"R"===n&&60>=a?c=(104-Math.sqrt(11236-Math.pow("Y"===n?a-80+20.5:a+20+20.5,2)))/100:"R"===n&&60<a||"B"===n&&80>=a?c=(Math.sqrt(1E4-Math.pow("R"===n?a-
60-60:a+40-60,2))-10)/100:"B"===n&&80<a||"G"===n&&40>=a?c=(122-Math.sqrt(19881-Math.pow("B"===n?a-80-131:a+20-131,2)))/100:"G"===n&&40<a&&(c=0),"Y"===n?f=(85-.85*a)/100:"R"===n&&60>=a?f=0:"R"===n&&60<a?f=(67.5-Math.sqrt(5776-Math.pow(a-60+35,2)))/100:"B"===n&&60>=a?f=(6.5+Math.sqrt(7044.5-Math.pow(1*a-68.5,2)))/100:"B"===n&&60<a||"G"===n&&60>=a?f=.9:"G"===n&&60<a&&(f=(90-.125*(a-60))/100),n=(b+f+c)/3,b=(n-b)*(100-g)/100+b,f=(n-f)*(100-g)/100+f,c=(n-c)*(100-g)/100+c,n=1/(b>f&&b>c?b:f>b&&f>c?f:c>b&&
c>f?c:(b+f+c)/3),g=parseInt(b*n*(100-d)/100*255,10),f=parseInt(f*n*(100-d)/100*255,10),d=parseInt(c*n*(100-d)/100*255,10),255<g&&(g=255),255<f&&(f=255),255<d&&(d=255),0>g&&(g=0),0>f&&(f=0),0>d&&(d=0)):(d=parseInt(255*(1-d/100),10),255<d&&(d=255),0>d&&(d=0),f=g=d);return{r:g,g:f,b:d}}e.toColorObject=function(a){var d=[],g;a=e.w3trim(a.toLowerCase());var l=a.substr(0,1).toUpperCase();var m=a.substr(1);var p=1;"R"!=l&&"Y"!=l&&"G"!=l&&"C"!=l&&"B"!=l&&"M"!=l&&"W"!=l||isNaN(m)||6==a.length&&-1==a.indexOf(",")||
(a="ncol("+a+")");3==a.length||6==a.length||isNaN(parseFloat(a))||(a="ncol("+a+")");0<a.indexOf(",")&&-1==a.indexOf("(")&&(a="ncol("+a+")");if("rgb"==a.substr(0,3)||"hsl"==a.substr(0,3)||"hwb"==a.substr(0,3)||"ncol"==a.substr(0,4)||"cmyk"==a.substr(0,4)){"ncol"==a.substr(0,4)?(4==a.split(",").length&&-1==a.indexOf("ncola")&&(a=a.replace("ncol","ncola")),l="ncol",a=a.substr(4)):"cmyk"==a.substr(0,4)?(l="cmyk",a=a.substr(4)):(l=a.substr(0,3),a=a.substr(3));m=3;var n=!1;"a"==a.substr(0,1).toLowerCase()?
(m=4,n=!0,a=a.substr(1)):"cmyk"==l&&(m=4,5==a.split(",").length&&(m=5,n=!0));a=a.replace("(","");a=a.replace(")","");d=a.split(",");if("rgb"==l){if(d.length!=m)return e.w3color.emptyObject;for(g=0;g<m;g++){if(""==d[g]||" "==d[g])d[g]="0";-1<d[g].indexOf("%")&&(d[g]=d[g].replace("%",""),d[g]=Number(d[g]/100),3>g&&(d[g]=Math.round(255*d[g])));if(isNaN(d[g]))return e.w3color.emptyObject;255<parseInt(d[g])&&(d[g]=255);3>g&&(d[g]=parseInt(d[g]));3==g&&1<Number(d[g])&&(d[g]=1)}var q={r:d[0],g:d[1],b:d[2]};
1==n&&(p=Number(d[3]))}if("hsl"==l||"hwb"==l||"ncol"==l){for(;d.length<m;)d.push("0");("hsl"==l||"hwb"==l)&&360<=parseInt(d[0])&&(d[0]=0);for(g=1;g<m;g++){if(-1<d[g].indexOf("%")){d[g]=d[g].replace("%","");d[g]=Number(d[g]);if(isNaN(d[g]))return e.w3color.emptyObject;d[g]/=100}else d[g]=Number(d[g]);1<Number(d[g])&&(d[g]=1);0>Number(d[g])&&(d[g]=0)}if("hsl"==l){q=e.hslToRgb(d[0],d[1],d[2]);var u=Number(d[0]);var t=Number(d[1])}"hwb"==l&&(q=e.hwbToRgb(d[0],d[1],d[2]));if("ncol"==l)a:{var r=d[0];a=
d[1];q=d[2];var v=r;if(isNaN(parseFloat(r.substr(0,1)))){g=r.substr(0,1).toUpperCase();r=r.substr(1);""==r&&(r=0);r=Number(r);if(isNaN(r)){q=!1;break a}"R"==g&&(v=.6*r);"Y"==g&&(v=60+.6*r);"G"==g&&(v=120+.6*r);"C"==g&&(v=180+.6*r);"B"==g&&(v=240+.6*r);"M"==g&&(v=300+.6*r);"W"==g&&(v=0,a=1-r/100,q=r/100)}q=e.hwbToRgb(v,a,q)}1==n&&(p=Number(d[3]))}if("cmyk"==l){for(;d.length<m;)d.push("0");for(g=0;g<m;g++){if(-1<d[g].indexOf("%")){d[g]=d[g].replace("%","");d[g]=Number(d[g]);if(isNaN(d[g]))return e.w3color.emptyObject;
d[g]/=100}else d[g]=Number(d[g]);1<Number(d[g])&&(d[g]=1);0>Number(d[g])&&(d[g]=0)}q=e.cmykToRgb(d[0],d[1],d[2],d[3]);1==n&&(p=Number(d[4]))}}else if("ncs"==a.substr(0,3))q=f(a);else{l=!1;m=b("names");for(g=0;g<m.length;g++)if(a.toLowerCase()==m[g].toLowerCase()){m=b("hexs");l=!0;q={r:parseInt(m[g].substr(0,2),16),g:parseInt(m[g].substr(2,2),16),b:parseInt(m[g].substr(4,2),16)};break}if(0==l){a=a.replace("#","");3==a.length&&(a=a.substr(0,1)+a.substr(0,1)+a.substr(1,1)+a.substr(1,1)+a.substr(2,1)+
a.substr(2,1));for(g=0;g<a.length;g++)if(!e.isHex(a.substr(g,1)))return e.w3color.emptyObject;d[0]=parseInt(a.substr(0,2),16);d[1]=parseInt(a.substr(2,2),16);d[2]=parseInt(a.substr(4,2),16);for(g=0;3>g;g++)if(isNaN(d[g]))return e.w3color.emptyObject;q={r:d[0],g:d[1],b:d[2]}}}return c(q,p,u,t)};e.colorObject=c;e.getColorArr=b;e.w3SetColorsByAttribute=function(){var a,b;var c=document.getElementsByTagName("*");for(a=0;a<c.length;a++)if(b=c[a].getAttribute("data-w3-color"))c[a].style.backgroundColor=
(new e.w3color(b)).toRgbString()}})(d.ColorManager||(d.ColorManager={}))})(TypeScript||(TypeScript={}));(function(d){(function(d){var c=function(){return function(){}}();d.IW3color=c})(d.ColorManager||(d.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(d){(function(d){function c(a,c,d){a/=60;c=.5>=d?d*(c+1):d+c-d*c;var f=2*d-c;d=255*b(f,c,a+2);var e=255*b(f,c,a);a=255*b(f,c,a-2);return{r:d,g:e,b:a}}function b(a,b,c){0>c&&(c+=6);6<=c&&(c-=6);return 1>c?(b-a)*c+a:3>c?b:4>c?(b-a)*(4-c)+a:a}d.hslToRgb=c;d.hueToRgb=b;d.hwbToRgb=function(a,b,d){var f=[];a=c(a,1,.5);f[0]=a.r/255;f[1]=a.g/255;f[2]=a.b/255;a=b+d;1<a&&(b=Number((b/a).toFixed(2)),d=Number((d/a).toFixed(2)));for(a=0;3>a;a++)f[a]*=1-b-d,f[a]+=b,f[a]=Number(255*f[a]);return{r:f[0],
g:f[1],b:f[2]}};d.cmykToRgb=function(a,b,c,d){return{r:255-255*Math.min(1,a*(1-d)+d),g:255-255*Math.min(1,b*(1-d)+d),b:255-255*Math.min(1,c*(1-d)+d)}};d.rgbToHsl=function(a,b,c){var f,d;var e=[];e[0]=a/255;e[1]=b/255;e[2]=c/255;a=e[0];b=e[0];for(c=f=0;c<e.length-1;c++)e[c+1]<=a&&(a=e[c+1]),e[c+1]>=b&&(b=e[c+1],f=c+1);0==f&&(d=(e[1]-e[2])/(b-a));1==f&&(d=2+(e[2]-e[0])/(b-a));2==f&&(d=4+(e[0]-e[1])/(b-a));isNaN(d)&&(d=0);d*=60;0>d&&(d+=360);e=(a+b)/2;return{h:d,s:a==b?0:.5>e?(b-a)/(b+a):(b-a)/(2-b-
a),l:e}};d.rgbToHwb=function(a,b,c){a/=255;b/=255;c/=255;var f=Math.max(a,b,c),d=Math.min(a,b,c),e=f-d;return{h:0==e?0:a==f?(b-c)/e%6*360:b==f?((c-a)/e+2)%6*360:((a-b)/e+4)%6*360,w:d,b:1-f}};d.rgbToCmyk=function(a,b,c){a/=255;b/=255;c/=255;var f=1-Math.max(a,b,c);1==f?c=b=a=0:(a=(1-a-f)/(1-f),b=(1-b-f)/(1-f),c=(1-c-f)/(1-f));return{c:a,m:b,y:c,k:f}}})(d.ColorManager||(d.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(d){(function(e){e.toHex=function(c){for(c=c.toString(16);2>c.length;)c="0"+c;return c};e.cl=function(c){d.logging.log(c,d.ConsoleColors.DarkYellow)};e.w3trim=function(c){return c.replace(/^\s+|\s+$/g,"")};e.isHex=function(c){return-1<"0123456789ABCDEFabcdef".indexOf(c)}})(d.ColorManager||(d.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(d){(function(d){var c=function(){function b(a,c){void 0===a&&(a=null);void 0===c&&(c=null);isNullOrUndefined(a)?this.attachValues(b.emptyObject):"string"==typeof a?this.attachValues(d.toColorObject(a)):this.attachValues(a);isNullOrUndefined(c)||(c.style.backgroundColor=this.toRgbString())}Object.defineProperty(b,"emptyObject",{get:function(){return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1}},enumerable:!0,
configurable:!0});b.prototype.toRgbString=function(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"};b.prototype.toRgbaString=function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.opacity+")"};b.prototype.toHwbString=function(){return"hwb("+this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%)"};b.prototype.toHwbStringDecimal=function(){return"hwb("+this.hue+", "+this.whiteness+", "+this.blackness+")"};b.prototype.toHwbaString=function(){return"hwba("+
this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity+")"};b.prototype.toHslString=function(){return"hsl("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%)"};b.prototype.toHslStringDecimal=function(){return"hsl("+this.hue+", "+this.sat+", "+this.lightness+")"};b.prototype.toHslaString=function(){return"hsla("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%, "+this.opacity+")"};b.prototype.toCmykString=
function(){return"cmyk("+Math.round(100*this.cyan)+"%, "+Math.round(100*this.magenta)+"%, "+Math.round(100*this.yellow)+"%, "+Math.round(100*this.black)+"%)"};b.prototype.toCmykStringDecimal=function(){return"cmyk("+this.cyan+", "+this.magenta+", "+this.yellow+", "+this.black+")"};b.prototype.toNcolString=function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%"};b.prototype.toNcolStringDecimal=function(){return this.ncol+", "+this.whiteness+", "+this.blackness};
b.prototype.toNcolaString=function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity};b.prototype.toName=function(){for(var a,b,c,e=d.getColorArr("hexs"),k=0;k<e.length;k++)if(a=parseInt(e[k].substr(0,2),16),b=parseInt(e[k].substr(2,2),16),c=parseInt(e[k].substr(4,2),16),this.red==a&&this.green==b&&this.blue==c)return d.getColorArr("names")[k];return""};b.prototype.toHexString=function(){var a=d.toHex(this.red),b=d.toHex(this.green),c=d.toHex(this.blue);
return"#"+a+b+c};b.prototype.toRgb=function(){return{r:this.red,g:this.green,b:this.blue,a:this.opacity}};b.prototype.toHsl=function(){return{h:this.hue,s:this.sat,l:this.lightness,a:this.opacity}};b.prototype.toHwb=function(){return{h:this.hue,w:this.whiteness,b:this.blackness,a:this.opacity}};b.prototype.toCmyk=function(){return{c:this.cyan,m:this.magenta,y:this.yellow,k:this.black,a:this.opacity}};b.prototype.toNcol=function(){return{ncol:this.ncol,w:this.whiteness,b:this.blackness,a:this.opacity}};
b.prototype.isDark=function(a){return(299*this.red+587*this.green+114*this.blue)/1E3<(a||128)};b.prototype.saturate=function(a){this.sat+=a/100||.1;1<this.sat&&(this.sat=1);a=d.hslToRgb(this.hue,this.sat,this.lightness);a=d.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};b.prototype.desaturate=function(a){this.sat-=a/100||.1;0>this.sat&&(this.sat=0);a=d.hslToRgb(this.hue,this.sat,this.lightness);a=d.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};b.prototype.lighter=
function(a){this.lightness+=a/100||.1;1<this.lightness&&(this.lightness=1);a=d.hslToRgb(this.hue,this.sat,this.lightness);a=d.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};b.prototype.darker=function(a){this.lightness-=a/100||.1;0>this.lightness&&(this.lightness=0);a=d.hslToRgb(this.hue,this.sat,this.lightness);a=d.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};b.prototype.attachValues=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue;this.hue=
a.hue;this.sat=a.sat;this.lightness=a.lightness;this.whiteness=a.whiteness;this.blackness=a.blackness;this.cyan=a.cyan;this.magenta=a.magenta;this.yellow=a.yellow;this.black=a.black;this.ncol=a.ncol;this.opacity=a.opacity;this.valid=a.valid};return b}();d.w3color=c})(d.ColorManager||(d.ColorManager={}))})(TypeScript||(TypeScript={}));var Base64;
(function(d){function e(b){var a=[],c=0;for(b=b.replace(/[^A-Za-z0-9+/=]/g,"");c<b.length;){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));d=d<<2|e>>4;e=(e&15)<<
4|k>>2;var m=(k&3)<<6|l;a.push(d);64!=k&&a.push(e);64!=l&&a.push(m)}return a}var c=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/g;d.isValidBase64String=function(b){return b&&0==b.length%4?c.test(b):!1};d.encode=function(b){var a=[],c=0;for(b=d.utf8_encode(b);c<b.length;){var e=b.charCodeAt(c++);var h=b.charCodeAt(c++);var k=b.charCodeAt(c++);var l=e>>2;e=(e&3)<<4|h>>4;var m=(h&15)<<2|k>>6;var p=k&63;isNaN(h)?m=p=64:isNaN(k)&&(p=64);a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l));
a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(p))}return a.join("")};d.decode=function(b){var a="",c=0;for(b=e(b);c<b.length;c++)a+=String.fromCharCode(b[c]);return a=d.utf8_decode(a)};d.decode_rawBuffer=e;d.bytes_decode=function(b){var a=[],c=new Uint8Array(e(b));b=new DataView(c.buffer);c=c.length/
8;for(var d=0;d<c;d++)a.push(b.getFloat64(8*d));return a};d.utf8_encode=function(b){var a=[];b=b.replace(/rn/g,"n");for(var c=0;c<b.length;c++){var d=b.charCodeAt(c);128>d?a.push(String.fromCharCode(d)):(127<d&&2048>d?a.push(String.fromCharCode(d>>6|192)):(a.push(String.fromCharCode(d>>12|224)),a.push(String.fromCharCode(d>>6&63|128))),a.push(String.fromCharCode(d&63|128)))}return a.join("")};d.utf8_decode=function(b){for(var a=[],c=0,d,e,k;c<b.length;)d=b.charCodeAt(c),128>d?(a.push(String.fromCharCode(d)),
c++):191<d&&224>d?(e=b.charCodeAt(c+1),a.push(String.fromCharCode((d&31)<<6|e&63)),c+=2):(e=b.charCodeAt(c+1),k=b.charCodeAt(c+2),a.push(String.fromCharCode((d&15)<<12|(e&63)<<6|k&63)),c+=3);return a.join("")}})(Base64||(Base64={}));var Bencode;
(function(d){function e(a){switch(a[0]){case "i":return a=a.match(/^i-?\d+e/)[0],[a.length,+a.slice(1,-1)];case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":var b=a.match(/^\d+/)[0];var c=b.length+1;a=a.slice(0,c+ +b);return[a.length,a.slice(c)];case "l":c=1;for(b=[];"e"!==a[c];){var d=e(a.slice(c));var k=d[0];d=d[1];c+=k;b.push(d)}return[c+1,b];case "d":c=1;for(k={};"e"!==a[c];){d=e(a.slice(c));b=d[0];d=d[1];var l=e(a.slice(c+b));var m=l[0];l=l[1];c+=b+m;k[d]=
l}return[c+1,k]}}function c(a){switch(!1){case "string"!==typeof a:return""+a.length+":"+a;case "number"!==typeof a:return"i"+(0|a)+"e";case "[object Array]"!=={}.toString.call(a):for(var d=[],e,h=0,k=a.length;h<k;++h)e=a[h],d.push(c(e));return"l"+d.join("")+"e";default:return b(a)}}function b(a){var b=function(b){for(var c in a)({}).hasOwnProperty.call(a,c)&&b.push(c);return b}.call(this,[]).sort();return"d"+function(d){for(var f,e=0,g=b.length;e<g;++e)f=b[e],d.push(""+c(f)+c(a[f]));return d}.call(this,
[]).join("")+"e"}d.decode=function(a){return e(a)[1]};d.encode=c})(Bencode||(Bencode={}));var LZW;
(function(d){d.encode=function(d){var c={};d=(d+"").split("");for(var b=[],a,f=d[0],e=256,h=1;h<d.length;h++)a=d[h],null!=c[f+a]?f+=a:(b.push(1<f.length?c[f]:f.charCodeAt(0)),c[f+a]=e,e++,f=a);b.push(1<f.length?c[f]:f.charCodeAt(0));for(h=0;h<b.length;h++)b[h]=String.fromCharCode(b[h]);return b.join("")};d.decode=function(d){var c={};d=(d+"").split("");for(var b=d[0],a=b,f=[b],e=256,h,k=1;k<d.length;k++)h=d[k].charCodeAt(0),h=256>h?d[k]:c[h]?c[h]:a+b,f.push(h),b=h.charAt(0),c[e]=a+b,e++,a=h;return f.join("")}})(LZW||
(LZW={}));var Levenshtein;
(function(d){function e(b,a,d){void 0===d&&(d=c);b=Strings.ToCharArray(b,!0);a=Strings.ToCharArray(a,!0);if(0==b.length&&0==a.length)return[[0]];if(0==b.length)return[[$ts(a).Sum(function(a){return d.insert(a)})]];if(0==a.length)return[[$ts(b).Sum(function(a){return d.delete(a)})]];var f=b.length+1,e=a.length+1,k=new Matrix(f,e,0);k.column(0,Enumerable.Range(0,f-1));k.row(0,Enumerable.Range(0,e-1));for(var l,m,p,n=1;n<f;n++)for(var q=1;q<e;q++)l=k.M(q-1,n)+d.delete(b[q-1]),m=k.M(q,n-1)+d.insert(a[n-
1]),p=k.M(q-1,n-1)+d.substitute(b[q-1],a[n-1]),k.M(q,n,Enumerable.Min(l,m,p));return k.ToArray(!1)}var c={insert:function(b){return 1},delete:function(b){return 1},substitute:function(b,a){return b==a?0:1}};d.DistanceMatrix=e;d.ComputeDistance=function(b,a,d){void 0===d&&(d=c);b=e(b,a,d);return b[b.length-1][b[0].length-1]}})(Levenshtein||(Levenshtein={}));
var StringBuilder=function(){function d(d,c){void 0===d&&(d=null);void 0===c&&(c="\n");this.buffer=d?"string"==typeof d?""+d:""+d.buffer:"";this.newLine=c}Object.defineProperty(d.prototype,"Length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0});d.prototype.Append=function(d){this.buffer+=d;return this};d.prototype.AppendLine=function(d){void 0===d&&(d="");return this.Append(d+this.newLine)};d.prototype.toString=function(){return this.buffer+""};return d}();
(function(d){var e=function(){function c(){}Object.defineProperty(c,"hasWorkerFeature",{get:function(){return"undefined"!==typeof Worker?!0:!1},enumerable:!0,configurable:!0});c.RunWorker=function(b,a,d){void 0===d&&(d=null);TypeScript.URLPatterns.isAPossibleUrlPattern(b)?this.fetchWorker(b,d,function(d){return c.registerWorker(b,d,a)}):this.registerWorker(md5(b),this.buildWorker(b,d),a)};c.registerWorker=function(b,a,d){c.$workers[b]=new Worker(a);c.$workers[b].onmessage=d};c.buildWorker=function(b,
a){if(!isNullOrUndefined(a)){var c;for(c in a){var d=a[c];var e="{$"+c+"}";b=b.replace(e,d)}}try{var k=new Blob([b],{type:"application/javascript"})}catch(l){a=window,a.BlobBuilder=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder,k=a.BlobBuilder(),k.append(b),k=k.getBlob()}return URL.createObjectURL(k)};c.fetchWorker=function(b,a,c){var d=this;$ts.getText(b,function(b){b=d.buildWorker(b,a);TypeScript.logging.log("Build worker blob url: "+b,TypeScript.ConsoleColors.Gray);c(b)})};c.Stop=function(b){c.$workers[b].terminate();
delete c.$workers[b]};c.$workers={};return c}();d.BackgroundWorker=e})(Internal||(Internal={}));var Router;
(function(d){function e(a,b){b(f[a])}function c(a,b){void 0===b&&(b="/");var c=$ts.typeof(a);return{module:b,appName:a.appName,className:c.class,status:a.appStatus,hookUnload:a.appHookMsg}}function b(b){var c=TypeScript.URL.WindowLocation().hash;if(c=a.Item(c))"/"==c?(window.location.hash="",window.location.reload(!0)):$ts("#"+b).innerHTML=HttpHelpers.GET(c)}var a,f={},g=!0;d.appName=DOM.InputValueGetter.metaValue("app");d.isCaseSensitive=function(){return g};d.currentAppPage=function(){for(var a in f)for(var b=
0,c=f[a].Values.ToArray();b<c.length;b++){var d=c[b];if("Running"==d.appStatus)return d}return null};d.CaseInsensitive=function(a){void 0===a&&(a=!0);g=!a};d.AddAppHandler=function(a,b){void 0===b&&(b="/");b in f||(f[b]=new Dictionary({}));e(b,function(b){return b.Add(a.appName,a)})};var h={"/":"general","index.php":"php server","index.perl":"perl server","index.do":"","index.jsp":"java server","index.vbs":"VB server script","index.vb":"VB server","index.asp":"VB6 server","index.aspx":"VB.NET server"};
d.getAppSummary=c;d.RunApp=function(a){void 0===a&&(a="/");TypeScript.logging.log(TypeScript.URL.WindowLocation());if(a in f)e(a,function(a){return a.Select(function(a){return a.value.Init()})});else if("index"==a||a in h){a=!1;for(var b=0,d=Object.keys(h);b<d.length;b++){var g=d[b];if(g in f){e(g,function(a){return a.Select(function(a){return a.value.Init()})});a=!0;break}}if(!a)throw"Default module is not found!";}else throw'Module "'+a+'" is not exists in your web app.';if(TypeScript.logging.outputEverything){var k=
[];Object.keys(f).forEach(function(a){e(a,function(b){b.ForEach(function(b){return k.push(c(b.value,a))})})});console.table(k)}};d.queryKey=function(a){return function(b){return getAllUrlParams(b).Item(a)}};d.moduleName=function(){return function(a){return(new TypeScript.URL(a)).fileName}};d.register=function(c,f,e){void 0===c&&(c="app");void 0===f&&(f=null);void 0===e&&(e=!0);a||(a=new Dictionary({"/":"/"}));var g=f?"string"==typeof f?d.queryKey(f):f:function(a){return(new TypeScript.URL(a)).fileName};
f=$ts(".router");f.attr("router-link",function(a){return a.href});f.attr("href","javascript:void(0);");f.onClick(function(a,b){d.goto(a.getAttribute("router-link"),c,g)});f.attr("router-link").ForEach(function(b){a.Add(g(b),b)});b(c)};d.IsTopWindowStack=function(){return parent&&parent.location.pathname==window.location.pathname};d.goto=function(a,b,c,f){d.IsTopWindowStack()?($ts("#"+b).innerHTML=HttpHelpers.GET(a),d.register(b,c,!1),window.location.hash=c(a)):parent.Router.goto(a,b,c,parent)}})(Router||
(Router={}));
var Bootstrap=function(){function d(){this.status="Sleep";this.hookUnload=null}Object.defineProperty(d.prototype,"currentAppPage",{get:function(){return Router.appName||getAllUrlParams().Item("app")||"/"},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"appStatus",{get:function(){return this.status},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"appHookMsg",{get:function(){return this.hookUnload},enumerable:!0,configurable:!0});d.prototype.isCurrentAppPath=function(){var d=
$ts.location.path;TypeScript.logging.outputEverything&&console.log("Current url path is '"+d+"'");return d==this.appName};d.prototype.isCurrentApp=function(){var d=this.currentAppPage;if("/"===this.appName.charAt(0))return this.isCurrentAppPath();if(d=Router.isCaseSensitive()?d==this.appName:d.toLowerCase()==this.appName.toLowerCase())TypeScript.logging.outputEverything&&console.log("%c["+$ts.typeof(this).class+"] App(name:="+this.appName+") Init...","color:blue;");else return!1;return d};d.prototype.Init=
function(){var d=this,c=this;this.isCurrentApp()&&($ts(function(){return d.OnDocumentReady()}),window.onload=c.OnWindowLoad,window.onbeforeunload=c.OnWindowUnload,window.onhashchange=function(){var b=window.location.hash.substr(1);c.OnHashChanged(b)},Internal.EventHandles.hookEventHandles(this),this.init(),this.status="Running")};d.prototype.OnDocumentReady=function(){};d.prototype.OnWindowLoad=function(){};d.prototype.OnWindowUnload=function(){if(!Strings.Empty(this.hookUnload,!0))return this.hookUnload};
d.prototype.unhook=function(){this.hookUnload=null};d.prototype.OnHashChanged=function(d){};d.prototype.toString=function(){return"["+this.status+"] "+this.appName};return d}();
(function(d){(function(d){function c(a){void 0===a&&(a="id");var b=document.querySelectorAll("*["+a+"]");a=[];var c=0;for(b=$ts(b).ToArray(!1);c<b.length;c++)a.push(b[c].id);return a}function b(a,b,c,d){return-1<b.indexOf(c)&&(b=f(a[c]),0==b.length||2==b.length)?($ts("#"+c).onclick=function(b,c){return a[d](b,c)},TypeScript.logging.log("[EVENT "+d+"] hook onclick for #"+c+"...",TypeScript.ConsoleColors.Green),!0):!1}function a(a,b,c){b=$from(b).Select(function(a){return""+a+"_onchange"}).ToArray();
var d=function(c){if(-1==b.indexOf(c))return"continue";var d=f(a[c]),e=c.replace("_onchange",""),g=document.getElementById(e);e=g.tagName.toLowerCase();1==d.length&&"value"==d[0]?"input"==e||"textarea"==e?(d=g.getAttribute("type"),isNullOrUndefined(d)||"file"!=d.toLowerCase()?g.onchange=function(){var b=DOM.InputValueGetter.unifyGetValue(g);return a[c](b)}:g.onchange=function(){var b=$input(g).files;return a[c](b)}):"select"==e?g.onchange=function(){var b=DOM.InputValueGetter.unifyGetValue(g);return a[c](b)}:
TypeScript.logging.log("invalid tag name: "+g.tagName+"!","red"):0==d.length&&($input(g).onchange=function(){return a[c]()})},e=0;for(c=c.methods;e<c.length;e++)d(c[e])}function f(a){if(isNullOrUndefined(a))return[];a=a.toString().replace(e,"");a=a.slice(a.indexOf("(")+1,a.indexOf(")")).match(h);return null===a?[]:a}d.findAllElement=c;d.hookEventHandles=function(d){for(var f=c("id"),e=TypeScript.Reflection.$typeof(d),g=0,h=e.methods;g<h.length;g++){var k=h[g];if(!Strings.Empty(k,!1)){var u=k.replace("_click",
"").replace("_onclick","");b(d,f,k,k)||b(d,f,u,k)}}a(d,f,e)};var e=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,h=/([^\s,]+)/g;d.parseFunctionArgumentNames=f})(d.EventHandles||(d.EventHandles={}))})(Internal||(Internal={}));var Framework;
(function(d){(function(d){function c(a,b){void 0===b&&(b=-1);var c=$ts.typeof(a);if(c.isEnumerator)c=a.ToArray();else if(c.isArray)c=a.slice();else if(0>=b)c=[a];else{c=[];for(var d=0;d<b;d++)c.push(a)}if(1<=b)if(b<c.length)c=c.slice(0,b);else if(b>c.length)for(d=c.length;d<b;d++)c.push(null);return c}function b(a,c){void 0===c&&(c=null);if(null==a||"object"!=typeof a||a.constructor!=Object&&a.constructor!=Array)return a;if(a.constructor==Date||a.constructor==RegExp||a.constructor==Function||a.constructor==
String||a.constructor==Number||a.constructor==Boolean)return new a.constructor(a);c=c||new a.constructor;for(var d in a)c[d]="undefined"==typeof c[d]?b(a[d],null):c[d];return c}d.EnsureCollection=function(a,b){void 0===b&&(b=-1);return new IEnumerator(c(a,b))};d.EnsureArray=c;d.extend=b})(d.Extensions||(d.Extensions={}))})(Framework||(Framework={}));(function(d){d.gc=function(){return d.garbageCollect.handler()}})(TypeScript||(TypeScript={}));
(function(d){(function(e){e.handler=function(){if("function"===typeof window.require){var c=window.require;try{c("v8").setFlagsFromString("--expose_gc");if(null!=window.global){var b=window.global;if("function"==typeof b.gc)return b.gc}var a=c("vm");if(null!=a&&"function"==typeof a.runInNewContext){var f=a.runInNewContext("gc");return function(){f()}}}catch(g){}}if("undefined"!==typeof window){if(window.CollectGarbage)return window.CollectGarbage;if(window.gc)return window.gc;if(window.opera&&window.opera.collect)return window.opera.collect}return"undefined"!==
typeof window.global&&(c=window.global,c.gc)?c.gc:function(){d.logging.outputEverything&&console.log("There is no gc handler could be found currently....")}}()})(d.garbageCollect||(d.garbageCollect={}))})(TypeScript||(TypeScript={}));
(function(d){var e=function(){function c(){}c.nameFilter=function(b){var a=this;return $from(Object.keys(b)).Where(function(b){return-1==a.ArgumentNames.indexOf(b)}).ToArray()};c.Default=function(){return{caseInSensitive:!1,nativeModel:!0,defaultValue:"",context:window}};c.ArgumentNames=Object.keys(c.Default());return c}();d.Arguments=e})(Internal||(Internal={}));
(function(d){(function(d){(function(c){c.isEnumeratorSignature=function(b){for(var a=!1,c=!1,d=0,e=b.property;d<e.length;d++){var k=e[d];"i"==k&&(a=!0);"sequence"==k&&(c=!0)}if(!a||!c)return!1;c=a=!1;d=0;for(b=b.methods;d<b.length;d++)e=b[d],"ElementAt"==e&&(a=!0),"ToArray"==e&&(c=!0);return a&&c?!0:!1}})(d.Internal||(d.Internal={}))})(d.Reflection||(d.Reflection={}))})(TypeScript||(TypeScript={}));
(function(d){var e=function(){function c(){}c.prototype.toString=function(){return this.caller+" [as "+this.memberName+"]("+this.file+":"+this.line+":"+this.column+")"};c.Parse=function(b){var a=new c,d=c.getFileName(b);b=b.replace(d,"").trim().substr(3);d=d.substr(1,d.length-2);if(-1<b.indexOf("/")||-1<b.indexOf(":"))b="<HTML\\Document>";var e=$ts(d.match(/([:]\d+){2}$/m)[0].split(":")),h=e.Select(function(a){return a.length}).Sum()+2;e=$from(e).Where(function(a){return 0<a.length}).Select(function(a){return Strings.Val(a)}).ToArray();
a.file=d.substr(0,d.length-h);(d=(d=b.match(/\[.+\]/))&&0!=d.length?d[0]:null)?(b=b.substr(0,b.length-d.length).trim(),a.memberName=d.substr(3,d.length-4).trim()):(d=b.split("."),a.memberName=d[d.length-1]);a.caller=b;a.line=e[0];a.column=e[1];return a};c.getFileName=function(b){var a=b.match(/\(.+\)/);return a&&0!=a.length?a[0]:"("+b.substr(6).trim()+")"};return c}();d.StackFrame=e})(Internal||(Internal={}));
(function(d){var e=function(){function b(){this.lastCheck=this.start=(new Date).getTime()}b.prototype.Tick=function(){var a=(new Date).getTime(),b=new c;b.start=this.start;b.time=a;b.sinceFromStart=a-this.start;b.sinceLastCheck=a-this.lastCheck;this.lastCheck=a;return b};return b}();d.Benchmark=e;var c=function(){function b(){}Object.defineProperty(b.prototype,"elapsedMilisecond",{get:function(){return(new Date).getTime()-this.time},enumerable:!0,configurable:!0});return b}();d.CheckPoint=c})(TypeScript||
(TypeScript={}));var Cookies;(function(d){function e(c){c=(c=RegExp(""+c+"[^;]+").exec(document.cookie))?c.toString().replace(/^[^=]+./,""):"";return decodeURIComponent(c)}d.setCookie=function(c,b,a){throw"not implements";};d.getCookie=e;d.delCookie=function(c){var b=e(c),a=new Date;a.setTime(a.getTime()-1);null!=b&&(a=a.toGMTString(),document.cookie=c+"="+b+";expires="+a)}})(Cookies||(Cookies={}));
(function(d){(function(d){var c=function(){function b(a,b,c){void 0===c&&(c=1);this.dbName=a;this.using=b;this.version=c;this.processDbRequest(indexedDB.open(a,c))}b.prototype.processDbRequest=function(a){var b=this;a.onerror=function(a){console.dir(a)};a.onsuccess=function(a){b.db=a.target.result};a.onupgradeneeded=function(a){b.db=a.target.result;b.using(b.db)}};return b}();d.Open=c})(d.LocalDb||(d.LocalDb={}))})(TypeScript||(TypeScript={}));var CanvasHelper;
(function(d){function e(a){return a.fillText&&a.measureText?!0:!1}var c;d.getTextWidth=function(a,b){var d=(c||(c=$ts("<canvas>"))).getContext("2d");d.font=b;return d.measureText(a).width};d.imageOk=function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0};d.createCanvas=function(a,b,c,d){void 0===d&&(d="block");a=$ts("<canvas>",{width:a[0],height:a[1],id:b,title:c,style:"display: "+d+";"});if(!a.getContext)return null;b=a.getContext("2d");return e(b)?a:null};d.supportsText=
e;var b=function(){function a(){this.sizes=[]}a.prototype.toString=function(){return a.css(this)};a.css=function(a){return a.point?a.point+"pt":a.percent?a.percent+"%":a.em?a.em+"em":a.pixel.toString()};return a}();d.fontSize=b;var a=function(){function a(){}a.prototype.apply=function(b){a.applyCSS(b,this)};a.applyCSS=function(a,c){a.style.fontFamily=c.fontName;a.style.fontSize=b.css(c.size)};return a}();d.CSSFont=a})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(d){function c(a){return a instanceof HTMLElement||a instanceof SVGElement}function b(a){if(c(a))return a;throw Error("an HTMLElement or SVGElement is required; got "+a);}function a(a){return a&&0==a.lastIndexOf("http",0)&&-1==a.lastIndexOf(window.location.host)}function e(b,c,e){var f=b.getAttributeNS(d.xlink,"href");if(f&&("string"!=typeof f&&(f=f.value),a(f))){TypeScript.logging.outputWarning&&console.warn("Cannot render embedded images linking to external hosts: "+f);return}var g=
$ts("<canvas>"),h=g.getContext("2d"),k=new Image;k.crossOrigin="anonymous";(f=f||b.getAttribute("href"))?(k.src=f,k.onload=function(){g.width=k.width;g.height=k.height;h.drawImage(k,0,0);b.setAttributeNS(d.xlink,"href",g.toDataURL("image/png"));c--;e(c)},k.onerror=function(){console.error("Could not load "+f);c--;e(c)}):(c--,e(c));return c}d.xlink="http://www.w3.org/1999/xlink";d.isElement=c;d.requireDomNode=b;d.isExternal=a;d.inlineImages=function(a,c){b(a);a=a.querySelectorAll("image");var d=a.length,
f=function(a){0===a&&c()};f(d);for(var g=0;g<a.length;g++)d=e(a[g],d,f)};d.getDimension=function(a,b,c){a=a.viewBox&&a.viewBox.baseVal&&a.viewBox.baseVal[c]||null!==b.getAttribute(c)&&!b.getAttribute(c).match(/%$/)&&parseInt(b.getAttribute(c))||a.getBoundingClientRect()[c]||parseInt(b.style[c])||parseInt(window.getComputedStyle(a).getPropertyValue(c));if("undefined"===typeof a||null===a)return 0;a=parseFloat(a);return isNaN(a)?0:a};d.reEncode=function(a){a=encodeURIComponent(a);a=a.replace(/%([0-9A-F]{2})/g,
function(a,b){a=String.fromCharCode("0x"+b);return"%"===a?"%25":a});return decodeURIComponent(a)}})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(d){d.xmlns="http://www.w3.org/2000/xmlns/";d.doctype='<?xml version="1.0" standalone="no"?>\n            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>';var c=function(){function b(){}b.prepareSvg=function(a,c,e){void 0===c&&(c=new d.Options);d.requireDomNode(a);c.scale=c.scale||1;c.responsive=c.responsive||!1;d.inlineImages(a,function(){b.doInlineImages(a,c,e)})};b.doInlineImages=function(a,b,c){var e=
$ts("<div>"),f=a.cloneNode(!0);if("svg"==a.tagName){var g=b.width||d.getDimension(a,f,"width");var m=b.height||d.getDimension(a,f,"height")}else if(a.getBBox){var p=a.getBBox();g=p.x+p.width;m=p.y+p.height;f.setAttribute("transform",f.getAttribute("transform").replace(/translate\(.*?\)/,""));p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(f);f=p}else{console.error("Attempted to render non-SVG element",a);return}f.setAttribute("version","1.1");f.getAttribute("xmlns")||
f.setAttributeNS(d.xmlns,"xmlns","http://www.w3.org/2000/svg");f.getAttribute("xmlns:xlink")||f.setAttributeNS(d.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink");b.responsive?(f.removeAttribute("width"),f.removeAttribute("height"),f.setAttribute("preserveAspectRatio","xMinYMin meet")):(f.setAttribute("width",(g*b.scale).toString()),f.setAttribute("height",(m*b.scale).toString()));f.setAttribute("viewBox",[b.left||0,b.top||0,g,m].join(" "));p=f.querySelectorAll("foreignObject > *");for(var n=0;n<
p.length;n++)p[n].getAttribute("xmlns")||p[n].setAttributeNS(d.xmlns,"xmlns","http://www.w3.org/1999/xhtml");e.appendChild(f);d.styles.doStyles(a,b,function(a){a=$ts("<style>",{type:"text/css"}).display("<![CDATA[\n"+a+"\n]]\x3e");a=$ts("<defs>").display(a);f.insertBefore(a,f.firstChild);c&&(a=e.innerHTML,a=a.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),c(a,g,m))})};b.svgAsDataUri=function(a,b,c){void 0===c&&(c=null);this.prepareSvg(a,b,function(a){a="data:image/svg+xml;base64,"+
window.btoa(d.reEncode(d.doctype+a));c&&c(a)})};b.convertToPng=function(a,b,c,d){b=$ts("<canvas>",{width:b,height:c});c=b.getContext("2d");d.canvg?d.canvg(b,a):c.drawImage(a,0,0);d.backgroundColor&&(c.globalCompositeOperation="destination-over",c.fillStyle=d.backgroundColor,c.fillRect(0,0,b.width,b.height));try{var e=b.toDataURL(d.encoderType,d.encoderOptions)}catch(l){if("SecurityError"==l.name){console.error("Rendered SVG images cannot be downloaded in this browser.");return}throw l;}return e};
b.svgAsPngUri=function(a,c,e){void 0===c&&(c=new d.Options);d.requireDomNode(a);c.encoderType=c.encoderType||"image/png";c.encoderOptions=c.encoderOptions||.8;var f=function(a,d,f){e(b.convertToPng(a,d,f,c))};c.canvg?this.prepareSvg(a,c,f):this.svgAsDataUri(a,c,function(a){var b=new Image;b.onload=function(){f(b,b.width,b.height)};b.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(a.slice(26)),"\n","Open the following link to see browser's diagnosis\n",
a)};b.src=a})};b.saveSvg=function(a,b,c){d.requireDomNode(a);c=c||{};this.svgAsDataUri(a,c,function(a){return DOM.download(b,a)})};b.saveSvgAsPng=function(a,b,c){void 0===c&&(c=d.Options.Default());"string"==typeof a&&(a=$ts(a));d.requireDomNode(a);this.svgAsPngUri(a,c,function(a){return DOM.download(b,a)})};return b}();d.Encoder=c})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(d){var c=function(){function a(){}a.Default=function(){return{encoderType:"image/png",encoderOptions:.8,scale:1,responsive:!1,left:0,top:0}};return a}();d.Options=c;c=function(){function a(){}a.doStyles=function(a,b,c){for(var d="",e=[],f=document.styleSheets,g=0;g<f.length;g++){try{var h=f[g].cssRules}catch(q){TypeScript.logging.outputWarning&&console.warn("Stylesheet could not be loaded: "+f[g].href);continue}null!=h&&(d+=this.processCssRules(a,h,b,f[g].href,e))}this.processFontQueue(e,
d,c)};a.processCssRules=function(b,c,d,e,l){for(var f="",g=0,h;g<c.length;g++,h=null){var k=c[g];if("undefined"!=typeof k.style){try{var u=k.selectorText}catch(r){TypeScript.logging.outputWarning&&console.warn('The following CSS rule has an invalid selector: "'+k+'"',r)}try{u&&(h=b.querySelector(u)||b.parentNode.querySelector(u))}catch(r){TypeScript.logging.outputWarning&&console.warn('Invalid CSS selector "'+u+'"',r)}if(h)h=d.selectorRemap?d.selectorRemap(k.selectorText):k.selectorText,k=d.modifyStyle?
d.modifyStyle(k.style.cssText):k.style.cssText,f+=h+" { "+k+" }\n";else if(k.cssText.match(/^@font-face/)){h=/url\(["']?(.+?)["']?\)/;var t=k.cssText.match(h);t=t&&t[1]||"";t.match(/^data:/)&&(t="");"about:blank"===t&&(t="");t?(t.startsWith("../")?t=e+"/../"+t:t.startsWith("./")&&(t=e+"/."+t),l.push({text:k.cssText,fontUrlRegexp:h,format:a.getFontMimeTypeFromUrl(t),url:t})):f+=k.cssText+"\n"}}}return f};a.processFontQueue=function(a,b,c){function d(d){function f(f){TypeScript.logging.outputWarning&&
(console.warn("Failed to load font from: "+d.url),console.warn(f));b+=d.text+"\n";e.processFontQueue(a,b,c)}function g(d,f){b+=d.text.replace(d.fontUrlRegexp,'url("data:'+d.format+";base64,"+f+'")')+"\n";setTimeout(function(){e.processFontQueue(a,b,c)},0)}var h=new XMLHttpRequest;h.addEventListener("load",function(){var a=DataExtensions.arrayBufferToBase64(h.response);g(d,a)});h.addEventListener("error",f);h.addEventListener("abort",f);h.open("GET",d.url);h.responseType="arraybuffer";h.send()}var e=
this;if(0<a.length){var f=a.pop();d(f)}else c(b)};a.getFontMimeTypeFromUrl=function(a){for(var c=Object.keys(b),d=0;d<c.length;++d){var e=c[d];if(0<a.indexOf("."+e))return b[e]}this.warnFontNotSupport(a);return"application/octet-stream"};a.warnFontNotSupport=function(a){console.warn("Unknown font format for "+a+"; Fonts may not be working correctly")};return a}();d.styles=c;var b={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",
sfnt:"application/font-sfnt",svg:"image/svg+xml"};(function(){return function(){}})()})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));var HttpHelpers;
(function(d){var e=function(){function c(b,a,c){void 0===a&&(a=!1);void 0===c&&(c=!0);this.i=0;this.echo=this.onErrorResumeNext=!1;this.jsURL="string"==typeof b?[b]:b;this.errors=[];this.onErrorResumeNext=a;this.echo=c}c.prototype.nextScript=function(){return this.jsURL[this.i++]};c.prototype.doLoad=function(b){var a=this;void 0===b&&(b=DoNothing);var c=this.nextScript();Strings.Empty(c,!0)?b():d.GetAsyn(c,function(d,e){return a.doExec(c,d,e,b)})};c.prototype.doExec=function(b,a,c,d){switch(c){case 200:try{eval.apply(window,
[a])}catch(h){if(this.onErrorResumeNext)TypeScript.logging.outputWarning&&(console.warn(b),console.warn(h)),this.errors.push(b);else throw h;}finally{this.echo&&console.log("script loaded: ",b)}break;default:this.echo&&console.error("ERROR: script not loaded: ",b),this.errors.push(b)}this.doLoad(d)};c.doEval=function(b,a,c){void 0===c&&(c=window);Base64.isValidBase64String(b)&&(b=Base64.decode(b));eval.apply(c,[b]);a&&a()};c.getFullPath=function(b){var a=$ts.location.path;if("/"==b.charAt(0))return b;
console.log(a)};return c}();d.Imports=e})(HttpHelpers||(HttpHelpers={}));
(function(d){d.contentTypes={form:"multipart/form-data",json:"application/json",text:"text/plain",www:"application/x-www-form-urlencoded"};d.measureContentType=function(c){return c instanceof FormData?d.contentTypes.form:"string"==typeof c?d.contentTypes.text:d.contentTypes.json};d.GET=function(c){var b=new XMLHttpRequest;b.open("GET",c,!1);b.send(null);return 200===b.status?b.responseText:null};d.GetAsyn=function(c,b){var a=new XMLHttpRequest;a.open("GET",c,!0);a.onreadystatechange=function(){var c=
this.getResponseHeader("content-type");isNullOrUndefined(c)&&(c=this.getResponseHeader("Content-Type"));4==a.readyState&&b(a.response||a.responseText,a.status,c)};a.send(null)};d.POST=function(c,b,a){var e=new XMLHttpRequest,g=b.data;b.type==d.contentTypes.json&&"string"!=typeof g&&(g=JSON.stringify(g));e.open("POST",c,!0);b.sendContentType&&e.setRequestHeader("Content-Type",b.type);e.onreadystatechange=function(){4==e.readyState&&a(e.responseText,e.status)};e.send(g)};d.UploadFile=function(c,b,a,
e){void 0===a&&(a=null);var f=new FormData;b instanceof File?(f.append("filename",b.name),a=a||b.name):f.append("filename",a);f.append("File",b,a);d.POST(c,{type:d.contentTypes.form,data:f},e)};d.serialize=function(c,b){void 0===b&&(b=!1);var a=[];"function"==typeof c&&(c=c());for(var d=0,e=Object.keys(c);d<e.length;d++){var h=e[d];var k=c[h];if(isNullOrUndefined(k))if(b&&TypeScript.logging.outputEverything)console.warn(h+" value is nothing!"),k="null";else continue;a.push(h+"="+encodeURIComponent(k))}return a.join("&")};
var e=function(){function c(){this.sendContentType=!0}c.prototype.toString=function(){return this.type};return c}();d.PostData=e})(HttpHelpers||(HttpHelpers={}));
(function(d){d.contentType="text/csv";var e=function(c){function b(a){return c.call(this,a)||this}__extends(b,c);Object.defineProperty(b.prototype,"headers",{get:function(){return new IEnumerator(this.sequence[0])},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"contents",{get:function(){return this.Skip(1)},enumerable:!0,configurable:!0});b.prototype.Column=function(a){var b=this.sequence[0].indexOf(a);return-1==b?new IEnumerator([]):this.Select(function(a){return a.ElementAt(b)})};
b.prototype.AppendLine=function(a){this.sequence.push(a);return this};b.prototype.AppendRows=function(a){var b=this;Array.isArray(a)?a.forEach(function(a){return b.sequence.push(a)}):a.ForEach(function(a){return b.sequence.push(a)});return this};b.prototype.buildDoc=function(a){void 0===a&&(a=!1);return a?this.Select(function(a){return a.JoinBy("\t")}).JoinBy("\n"):this.Select(function(a){return a.rowLine}).JoinBy("\n")};b.prototype.Objects=function(a,c){void 0===a&&(a={});void 0===c&&(c=function(){return{}});
var d=b.ensureMapsAll(a,this.headers.ToArray());return this.Skip(1).Select(function(a){var b=c();a.ForEach(function(a,c){b[d(c)]=a});return b})};b.ensureMapsAll=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d in a||(a[d]=d)}return function(c){return a[b[c]]}};b.prototype.save=function(a,b,c){void 0===b&&(b="upload.csv");void 0===c&&(c=function(a){console.log(a)});var d=this.buildDoc();HttpHelpers.UploadFile(a,d,b,c)};b.Load=function(a,c,d){var e=this;void 0===c&&(c=null);void 0===d&&(d=this.defaultContent);
if(null==c||void 0==c){a=d(HttpHelpers.GET(a));var f=this.isTsv(a);return b.Parse(a.content,f)}HttpHelpers.GetAsyn(a,function(a,f,g){if(200==f)a=d(a,g),f=e.isTsv(a),a=b.Parse(a.content,f),console.log(a.headers),c(a);else throw"Error while load csv data source, http "+f+": "+a;});return null};b.isTsv=function(a){a=a.type.trim();return"tsv"==a||"#tsv"==a};b.defaultContent=function(a){return{type:"csv",content:a}};b.Parse=function(a,c){void 0===c&&(c=!1);var e=c?d.row.ParseTsv:d.row.Parse;a=$from(a.split(/\n/)).Select(function(a){return a.replace("\r",
"").replace("\n","")});TypeScript.logging.log("Document data is a "+(c?"tsv":"csv")+" file.",TypeScript.ConsoleColors.Blue);$ts.mode==Modes.debug&&(console.log("Peeks of your input table data:"),console.table(this.head(a,e)));c=Strings.Empty(a.Last)?a.Take(a.Count-1).Select(e):a.Select(e);return new b(c)};b.head=function(a,b){return a.Take(6).Select(b).Select(function(a){return a.ToArray(!1)}).ToArray()};return b}(IEnumerator);d.dataframe=e})(csv||(csv={}));
(function(d){(function(e){function c(a,c){void 0===c&&(c=b);var d=a.headers.Select(function(a){return"<th>"+a+"</th>"}).JoinBy("\n");a=a.contents.Select(function(a){return a.Select(function(a){return"<td>"+a+"</td>"}).JoinBy("")}).Select(function(a){return"<tr>"+a+"</tr>"}).JoinBy("\n");return'\n            <table class="'+c+'">\n                <thead>\n                    <tr>'+d+"</tr>\n                </thead>\n                <tbody>\n                    "+a+"\n                </tbody>\n            </table>"}
var b=["table","table-hover"];e.toHTMLTable=c;e.createHTMLTable=function(a,e){void 0===e&&(e=b);return c(d.toDataFrame(a),e)}})(d.HTML||(d.HTML={}))})(csv||(csv={}));
(function(d){var e=function(c){function b(a){return c.call(this,a)||this}__extends(b,c);Object.defineProperty(b.prototype,"columns",{get:function(){return this.sequence.slice()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"rowLine",{get:function(){return $from(this.columns).Select(b.autoEscape).JoinBy(",")},enumerable:!0,configurable:!0});b.prototype.indexOf=function(a,b){void 0===b&&(b=null);return isNullOrUndefined(b)?this.sequence.indexOf(a):this.sequence.indexOf(a,b)};b.prototype.ProjectObject=
function(a){var b={},c=this.columns;Array.isArray(a)?a.forEach(function(a,d){b[a]=c[d]}):a.ForEach(function(a,d){b[a]=c[d]});return b};b.autoEscape=function(a){return-1<a.indexOf(",")?'"'+a+'"':a};b.Parse=function(a){return new b(d.CharsParser(a))};b.ParseTsv=function(a){return new b(d.CharsParser(a,"\t"))};return b}(IEnumerator);d.row=e})(csv||(csv={}));
(function(d){d.CharsParser=function(d,c,b){void 0===c&&(c=",");void 0===b&&(b='"');var a=[],e=[],g=!1,h=$from(Strings.ToCharArray(d)).ToPointer(),k=new RegExp("["+b+"]{2}","g"),l=function(){return e.join("").replace(k,b)};for(d=function(d){var f=e;var k=void 0;void 0===k&&(k="\\");f=isNullOrEmpty(f)?!1:f[f.length-1]==k;f?e[e.length-1]=d:(f=h.Current,k=0<e.length&&e[e.length-1]!=b,0==e.length&&f==c?(a.push(""),e=[],h.MoveNext(),g=!1):(f==c||h.EndRead)&&k?(a.push(l()),e=[],h.MoveNext(),g=!1):e.push(d))};!h.EndRead;){var m=
h.Next;g?m==b?d(m):e.push(m):0==e.length&&m==b?g=!0:m==c?(a.push(l()),e=[]):e.push(m)}0<e.length&&a.push(l());return a}})(csv||(csv={}));
